;/*FB_PKG_DELIM*/

__d("WAPttComposerOpusRecorder",["$InternalEnum","Promise","WAErr","WAGetUserMedia","WANullthrows","WAOpusRecorderWorkerClient","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i={bitRate:16e3,bufferLength:4096,numberOfChannels:1,encoderSampleRate:16e3,maxBuffersPerPage:40,encoderApplication:2048,encoderFrameSize:20,streamOptions:{optional:[],mandatory:{googEchoCancellation:!1,googAutoGainControl:!1,googNoiseSuppression:!1,googHighpassFilter:!1}}},j=b("$InternalEnum").Mirrored(["INACTIVE","RECORDING","PAUSED","STOPPED"]);a=function(){function a(a){var d=this;this._duration=0;this._recordedPages=[];this._state=j.INACTIVE;this._isFirstBuffer=!1;this._requestCount=0;this._pendingFlushResolvers=new Map();this._handleEncoderMessage=function(a){a=a.data;switch(a.message){case"page":d._storePage(a.page);break;case"flushed":d._handleFlushed(a.requestId);break;default:throw c("WAErr")("Invalid message event type: "+a.message)}};if(!l())throw c("WAErr")("Recording is not supported in this browser");this._createStream=a.createStream;this._onDuration=a.onDuration;this._onPause=a.onPause;this._onResume=a.onResume;this._onStart=a.onStart;this._onStop=a.onStop;this._handlePage=a.onPage;this._completeRecordingPromise=new(h||(h=b("Promise")))(function(a){d._resolveCompleteRecordingPromise=a});this._audioContext=new AudioContext();this._encoderNode=this._audioContext.createScriptProcessor(i.bufferLength,i.numberOfChannels,i.numberOfChannels);this._encoderNode.onaudioprocess=function(a){d._encodeBuffers(a.inputBuffer)};this._monitorNode=this._audioContext.createGain()}var e=a.prototype;e.getState=function(){return this._state};e.start=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){switch(this._state){case j.RECORDING:return!0;case j.STOPPED:return!1;case j.PAUSED:return this.resume();case j.INACTIVE:break}this._recordedPages=[];this._isFirstBuffer=!0;this._duration=0;var a=d("WAOpusRecorderWorkerClient").getOpusEncoderWorker();this._encoder=a;a.addEventListener("message",this._handleEncoderMessage);var b=(yield this._startRecording());if(!b)return!1;this._onStart==null?void 0:this._onStart();this._onDuration==null?void 0:this._onDuration(this._duration);a.postMessage({command:"encode-init",config:babelHelpers["extends"]({},i,{originalSampleRate:this._audioContext.sampleRate})});this._encoderNode.connect(this._audioContext.destination);return!0});function c(){return a.apply(this,arguments)}return c}();e.stop=function(){var a;if(this._state===j.STOPPED)return;this._state=j.STOPPED;(a=this._recordingAbortController)==null?void 0:a.abort();this._audioContext.close&&this._audioContext.close();this._monitorNode.disconnect();this._encoderNode.disconnect();(a=this._encoder)==null?void 0:a.postMessage({command:"encode-done"})};e.pause=function(){var a;if(this._state!==j.RECORDING)return;this._state=j.PAUSED;(a=this._recordingAbortController)==null?void 0:a.abort();this._onPause==null?void 0:this._onPause()};e.resume=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){switch(this._state){case j.RECORDING:return!0;case j.STOPPED:return!1;case j.INACTIVE:throw c("WAErr")("Attempting to resume recording that hasn't started");case j.PAUSED:break}var a=(yield this._startRecording());if(!a)return!1;this._onResume==null?void 0:this._onResume();return!0});function d(){return a.apply(this,arguments)}return d}();e.getDuration=function(){return this._duration};e.getMonitorNode=function(){return this._monitorNode};e._encodeBuffers=function(a){if(this._isFirstBuffer){this._isFirstBuffer=!1;return}if(this._state!==j.RECORDING)return;var b=[];for(var d=0;d<a.numberOfChannels;d++)b[d]=a.getChannelData(d);d=c("WANullthrows")(this._encoder);d.postMessage({command:"encode",buffers:b});this._duration+=a.duration;this._onDuration==null?void 0:this._onDuration(this._duration)};e._getNextRequestId=function(){this._requestCount++;return this._requestCount};e._startRecording=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){this._state=j.RECORDING;this._recordingAbortController=new AbortController();var a=(yield m(this._createStream,this._audioContext,[this._encoderNode,this._monitorNode],this._recordingAbortController.signal));if(!a){this.stop();return!1}return!0});function a(){return a.apply(this,arguments)}return a}();e._storePage=function(a){this._recordedPages.push(a);if(a[5]&4){this._handlePage==null?void 0:this._handlePage(a,!0);var b=c("WANullthrows")(this._encoder);b.removeEventListener("message",this._handleEncoderMessage);this._resolveCompleteRecordingPromise(k(this._recordedPages));this._recordedPages=[];this._onStop==null?void 0:this._onStop();return}this._handlePage==null?void 0:this._handlePage(a,!1)};e._handleFlushed=function(a){var b=c("WANullthrows")(this._pendingFlushResolvers.get(a));this._pendingFlushResolvers["delete"](a);b(k(this._recordedPages))};e.getPartialRecording=function(){var a=this,d=this._getNextRequestId(),e=new(h||(h=b("Promise")))(function(b){a._pendingFlushResolvers.set(d,b)}),f=c("WANullthrows")(this._encoder);f.postMessage({command:"flush",requestId:d});return e};e.getCompleteRecording=function(){return this._completeRecordingPromise};return a}();function k(a){var b=a.reduce(function(a,b){return a+b.length},0);b=new Uint8Array(b);var c=0;for(a of a)b.set(a,c),c+=a.length;return new Blob([b],{type:"audio/ogg; codecs=opus"})}function l(){return Boolean(window.AudioContext&&d("WAGetUserMedia").getUserMedia)}function m(a,b,c,d){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,d){var e=(yield a(d));if(d.aborted||e==null)return!1;var f=b.createMediaStreamSource(e);c.forEach(function(a){f.connect(a)});d.addEventListener("abort",function(){e.getTracks().forEach(function(a){a.stop()}),f.disconnect()},{once:!0});return!0});return n.apply(this,arguments)}g.OpusRecorderState=j;g.OpusRecorder=a}),98);
__d("WAPttComposerRecorderPollableTimer",[],(function(a,b,c,d,e,f){a=function(){function a(){}var b=a.prototype;b.start=function(){this.$1=Date.now()};b.stop=function(){this.$2=Date.now()};b.pause=function(){this.stop()};b.resume=function(){this.$1=Date.now()-this.getTime(),this.$2=null};b.getTime=function(){var a,b=this.$1;if(b==null)return 0;a=(a=this.$2)!=null?a:Date.now();return a-b};return a}();f["default"]=a}),66);
__d("WAPttComposerWaveformRecorder",["WANullthrows","WAPttComposerRecorderPollableTimer","WAPttComposerScaleWaveform","WAStartAnimationLoop"],(function(a,b,c,d,e,f,g){a=function(){function a(a,b){var d=this;this.$2=new(c("WAPttComposerRecorderPollableTimer"))();this.$3=[];this.$4=[];this.$5=0;this.$10=function(){d.$5=Math.max(d.$5,d.$11());var a=d.$3.length/d.$1;a=Math.floor((d.getDuration()-a)*d.$1);if(a===0)return;for(var b=0;b<a;b++)d.$3.push(d.$5);d.$5=0};this.$12=0;this.$7=h(a);a.connect(this.$7);this.$1=b}var b=a.prototype;b.start=function(){this.$2.start(),this.$9()};b.stop=function(){this.$2.stop(),this.$6==null?void 0:this.$6()};b.pause=function(){this.$2.pause(),this.$6==null?void 0:this.$6()};b.resume=function(){this.$2.resume(),this.$9()};b.$9=function(){this.$6=d("WAStartAnimationLoop").startAnimationLoop(this.$10)};b.$11=function(){var a,b=c("WANullthrows")(this.$7);this.$8=(a=this.$8)!=null?a:new Uint8Array(b.frequencyBinCount);a=this.$8;b.getByteFrequencyData(a);return Math.max.apply(Math,Array.from(a))/255};b.commitSamples=function(a){a=Math.floor(a*this.$1);a=a-this.$4.length;var b=this.$3.length-this.$12;if(a===0||b===0)return;b=this.$3.slice(this.$12,this.$3.length);b=c("WAPttComposerScaleWaveform")(b,a);for(var a=b,b=Array.isArray(a),d=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(b){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;this.$4.push(e)}this.$12=this.$3.length};b.getSamples=function(){return this.$3};b.getDuration=function(){var a;a=(a=this.$2.getTime())!=null?a:0;return a/1e3};b.getCorrectedSamples=function(){return this.$4};return a}();function h(a){a=a.context.createAnalyser();a.fftSize=32;a.smoothingTimeConstant=0;a.minDecibels=-60;a.maxDecibels=-10;return a}g["default"]=a}),98);
__d("WAPttComposerRecorder",["WAPttComposerOpusRecorder","WAPttComposerWaveformRecorder","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var b=this;this._handleOpusRecorderDuration=function(){b._waveformRecorder.commitSamples(b.getDuration()),b._onDuration==null?void 0:b._onDuration(b.getDuration())};this._onDuration=a.onDuration;this._opusRecorder=new(d("WAPttComposerOpusRecorder").OpusRecorder)({createStream:a.createStream,onDuration:this._handleOpusRecorderDuration,onPage:function(b,c){a.onPage==null?void 0:a.onPage(b,c)}});this._waveformRecorder=new(c("WAPttComposerWaveformRecorder"))(this._opusRecorder.getMonitorNode(),a.waveformSampleRate)}var e=a.prototype;e.start=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this._opusRecorder.start());if(!a)return!1;this._waveformRecorder.start();return!0});function c(){return a.apply(this,arguments)}return c}();e.stop=function(){this._opusRecorder.stop(),this._waveformRecorder.stop()};e.pause=function(){this._opusRecorder.pause(),this._waveformRecorder.pause()};e.resume=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this._opusRecorder.resume());if(!a)return!1;this._waveformRecorder.resume();return!0});function c(){return a.apply(this,arguments)}return c}();e.getDuration=function(){return this._opusRecorder.getDuration()};e.getPreciseDuration=function(){var a;return(a=this._waveformRecorder.getDuration())!=null?a:0};e.getLiveWaveformSamples=function(){return this._waveformRecorder.getSamples()};e.getCorrectedWaveformSamples=function(){return this._waveformRecorder.getCorrectedSamples()};e.getPartialRecording=function(){return this._opusRecorder.getPartialRecording()};e.getCompleteRecording=function(){return this._opusRecorder.getCompleteRecording()};return a}();g["default"]=a}),98);
__d("WAWebUploadStreamerRefactorGatingUtils",["WAWebABProps"],(function(a,b,c,d,e,f,g){function a(){return d("WAWebABProps").getABPropConfigValue("web_ptt_streamer_upload")}g.isUploadStreamerRefactorEnabled=a}),98);
__d("WAWebRecordingSessionStateEnum",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum").Mirrored(["NOT_STARTED","RECORDING","PAUSED","STOPPED","ERROR"]);f.RecordingSessionState=a}),66);
__d("WAWebPttComposerRecordingSessionGetters",["WAWebGetters","WAWebGettersCaches","WAWebRecordingSessionStateEnum"],(function(a,b,c,d,e,f,g){a=d("WAWebGetters").createGetterFactories({createCache:d("WAWebGettersCaches").createRecordingSessionCache});b=a.field;c=a.computed;e=a.clearCacheFor;f=e;a=b("exceedsMinDuration");e=b("recordingState");b=c(function(a){a=a[0];return a===d("WAWebRecordingSessionStateEnum").RecordingSessionState.RECORDING},[e]);g.clearRecordingSessionGetterCacheFor=f;g.getExceedsMinDuration=a;g.getRecordingState=e;g.getIsRecording=b}),98);
__d("WAWebWamEnumPttResultType",[],(function(a,b,c,d,e,f){a=Object.freeze({SENT:1,CANCELLED:2,TOO_SHORT:3});f.PTT_RESULT_TYPE=a}),66);
__d("WAWebWamEnumPttSourceType",[],(function(a,b,c,d,e,f){a=Object.freeze({FROM_CONVERSATION:0,FROM_VOICEMAIL:1});f.PTT_SOURCE_TYPE=a}),66);
__d("WAWebPttWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumPttResultType","WAWebWamEnumPttSourceType"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({Ptt:[458,{pttDraftPlayCnt:[7,a.TYPES.INTEGER],pttDraftSeekCnt:[8,a.TYPES.INTEGER],pttDuration:[5,a.TYPES.TIMER],pttLock:[4,a.TYPES.BOOLEAN],pttPauseCnt:[9,a.TYPES.INTEGER],pttResult:[1,d("WAWebWamEnumPttResultType").PTT_RESULT_TYPE],pttSize:[3,a.TYPES.NUMBER],pttSource:[2,d("WAWebWamEnumPttSourceType").PTT_SOURCE_TYPE],pttStop:[6,a.TYPES.BOOLEAN],pttStopTapCnt:[10,a.TYPES.INTEGER]},[1,1,1],"regular"]},{Ptt:[]});g.PttWamEvent=b}),98);
__d("WAWebNewsletterSubscribeButton.react",["fbt","WAWebWDSButton","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){return j.jsx(d("WAWebWDSButton").WDSButtonPrimary,{testid:void 0,onClick:a.onClick,spinner:a.isLoading,disabled:a.isLoading,children:h._("__JHASH__fwxpTAEyfpc__JHASH__")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebNotificationsOffIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="notifications-off";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:h,height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),children:[j.jsx("title",{children:k}),j.jsx("path",{fill:"currentColor",d:"M5 18.875q-.325 0-.537-.225-.213-.225-.213-.525 0-.325.213-.538.212-.212.537-.212h1.25v-7.25q0-.775.188-1.5.187-.725.562-1.4L8.125     8.35q-.175.425-.275.862-.1.438-.1.913v7.25l7.275-.025L2.55 4.9q-.2-.2-.2-.513 0-.312.2-.537.225-.225.538-.225.312 0 .537.225L20.4 20.625q.2.225.213.525.012.3-.213.55-.225.2-.525.2-.3     0-.525-.2l-2.85-2.825Zm12.75-3.725-1.5-1.5v-3.525q0-1.775-1.25-3.013-1.25-1.237-3-1.237-.7 0-1.387.237-.688.238-1.213.688L8.325 5.725q.525-.45 1.15-.763.625-.312     1.275-.462v-.7q0-.525.363-.888.362-.362.887-.362t.887.362q.363.363.363.888v.7q1.875.425 3.188 1.963Q17.75 8 17.75 10.125Zm-6.35-1.375ZM12 21.8q-.75     0-1.275-.525Q10.2 20.75 10.2 20h3.6q0 .75-.525 1.275-.525.525-1.275.525Zm.825-11.525Z"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.NotificationsOffIcon=a}),98);
__d("WAWebNotificationsOnIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="notifications-on";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:h,height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),children:[j.jsx("title",{children:k}),j.jsx("path",{fill:"currentColor",d:"M3.25 10q-.325 0-.537-.225-.213-.225-.188-.525.15-1.675.85-3.213Q4.075 4.5 5.25 3.3q.2-.2.525-.2t.55.225q.2.2.213.5.012.3-.213.55-1 1-1.587 2.237Q4.15 7.85     4.025 9.25q-.025.325-.237.537Q3.575 10 3.25 10Zm17.5 0q-.3 0-.525-.213-.225-.212-.25-.537-.125-1.4-.712-2.638-.588-1.237-1.588-2.237-.2-.25-.2-.55 0-.3.225-.5.225-.225.538-.225.312     0 .512.2 1.175 1.2 1.875 2.737.7 1.538.85 3.213.025.3-.187.525-.213.225-.538.225ZM5 18.875q-.325 0-.537-.225-.213-.225-.213-.525 0-.325.213-.538.212-.212.537-.212h1.25v-7.25q0-2     1.25-3.588Q8.75 4.95 10.75 4.5v-.7q0-.525.363-.888.362-.362.887-.362t.887.362q.363.363.363.888v.7q2 .45 3.25 2.037 1.25 1.588 1.25 3.588v7.25H19q.325 0 .538.212.212.213.212.538     0 .3-.212.525-.213.225-.538.225Zm7-7.25ZM12 21.8q-.75 0-1.275-.525Q10.2 20.75 10.2 20h3.6q0 .75-.525 1.275-.525.525-1.275.525Zm-4.25-4.425h8.5v-7.25q0-1.775-1.25-3.013-1.25-1.237-3-1.237T9     7.112Q7.75 8.35 7.75 10.125Z"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.NotificationsOnIcon=a}),98);
__d("WAWebNewsletterConversationPanelHeader.react",["fbt","Promise","WAWebCommonNewsletterEnums","WAWebCommonNewsletterStrings","WAWebDrawerManager","WAWebInfoFlowLoadable","WAWebInfoFlowStep","WAWebKeyboardTabUtils","WAWebLinkIcon","WAWebMenuBar.react","WAWebModalManager","WAWebNewsletterDirectorySearchAction","WAWebNewsletterGatingUtils","WAWebNewsletterMembershipUtil","WAWebNewsletterModelUtils","WAWebNewsletterSubscribeAction","WAWebNewsletterSubscribeButton.react","WAWebNewsletterToggleMuteStateAction","WAWebNotificationsOffIcon","WAWebNotificationsOnIcon","WAWebSpinner.react","WAWebStateUtils","WAWebTabOrder","WAWebUnfollowNewsletterConfirmationModal.react","WAWebWDSButton","WAWebWamEnumChannelEventSurface","WAWebWamEnumChannelLinkShareEntryPoint","asyncToGeneratorRuntime","react","useWAWebModelValues","useWAWebOnUnmount","useWAWebPrevious"],(function(a,b,c,d,e,f,g,h){var i,j,k;e=k||d("react");var l=j||(j=c("react")),m=e.useCallback,n=e.useState;function o(a){return a===d("WAWebNewsletterModelUtils").MUTED_STATE}function a(a){var e=a.chat,f=d("useWAWebModelValues").useModelValues(e,["isNewsletter","newsletterMetadata","muteExpiration"]);c("useWAWebOnUnmount")(function(){var a;(a=f.newsletterMetadata)==null?void 0:a.resetRecentlyFollowedFrom()});a=d("useWAWebModelValues").useOptionalModelValues(f.newsletterMetadata,["membershipType","suspended","terminated","isSuspendedOrTerminated","canBeMuted"]);var g=n(!1),j=g[0],k=g[1];g=n(!1);var q=g[0],r=g[1];g=c("useWAWebPrevious")(f.muteExpiration);g!==f.muteExpiration&&q&&r(!1);g=m(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){k(!0),yield (i||(i=b("Promise"))).allSettled([d("WAWebNewsletterSubscribeAction").subscribeToNewsletter(d("WAWebStateUtils").unproxy(f),{eventSurface:d("WAWebWamEnumChannelEventSurface").CHANNEL_EVENT_SURFACE.CHANNEL_THREAD}),d("WAWebNewsletterGatingUtils").isSimilarNewsletterInThreadEnabled()&&d("WAWebNewsletterDirectorySearchAction").getSimilarNewslettersAction(d("WAWebStateUtils").unproxy(f))]),k(!1)}),[f]);var s=m(function(){d("WAWebModalManager").ModalManager.open(l.jsx(d("WAWebUnfollowNewsletterConfirmationModal.react").UnfollowNewsletterConfirmationModal,{chat:d("WAWebStateUtils").unproxy(e),loggingOptions:{eventSurface:d("WAWebWamEnumChannelEventSurface").CHANNEL_EVENT_SURFACE.CHANNEL_THREAD}}))},[e]),t=m(function(){d("WAWebDrawerManager").DrawerManager.openDrawerRight(l.jsx(d("WAWebInfoFlowLoadable").InfoFlowLoadable,{chat:e,initialStep:d("WAWebInfoFlowStep").InfoFlowStep.NewsletterLink,newsletterLinkShareScreenEntryPoint:d("WAWebWamEnumChannelLinkShareEntryPoint").CHANNEL_LINK_SHARE_ENTRY_POINT.CHANNEL_THREAD}),{transition:"slide-left",focusType:d("WAWebKeyboardTabUtils").FocusType.TABBABLE,noFocus:!0})},[e]),u=m(function(){r(!0),d("WAWebNewsletterToggleMuteStateAction").muteNewsletterAction(e.id,{eventSurface:d("WAWebWamEnumChannelEventSurface").CHANNEL_EVENT_SURFACE.CHANNEL_THREAD})["catch"](function(){return r(!1)})},[e]),v=m(function(){r(!0),d("WAWebNewsletterToggleMuteStateAction").unmuteNewsletterAction(e.id,{eventSurface:d("WAWebWamEnumChannelEventSurface").CHANNEL_EVENT_SURFACE.CHANNEL_THREAD})["catch"](function(){return r(!1)})},[e]);if(!f.isNewsletter||a==null)return null;if(a.isSuspendedOrTerminated)return a.membershipType===d("WAWebCommonNewsletterEnums").NewsletterMembershipType.Subscriber?l.jsx(d("WAWebWDSButton").WDSButtonPrimary,{onClick:s,testid:void 0,children:h._("__JHASH__ipSVtCOZYk0__JHASH__")}):null;s=null;a.canBeMuted&&(s=o(f.muteExpiration)?l.jsx(d("WAWebMenuBar.react").MenuBarItem,{tabOrder:d("WAWebTabOrder").TAB_ORDER.CHAT_HEADER_BUTTON,testid:void 0,icon:q?l.jsx(p,{}):l.jsx(d("WAWebNotificationsOffIcon").NotificationsOffIcon,{}),onClick:v,disabled:q,title:h._("__JHASH__WP0hnGFe6Jr__JHASH__")}):l.jsx(d("WAWebMenuBar.react").MenuBarItem,{tabOrder:d("WAWebTabOrder").TAB_ORDER.CHAT_HEADER_BUTTON,testid:void 0,icon:q?l.jsx(p,{}):l.jsx(d("WAWebNotificationsOnIcon").NotificationsOnIcon,{}),onClick:u,disabled:q,title:h._("__JHASH__Trvawc6j0QE__JHASH__")}));v=d("WAWebNewsletterMembershipUtil").iAmAdminOrOwner(a)&&d("WAWebNewsletterGatingUtils").isNewsletterChannelLinkPageEnabled(f)?l.jsx(d("WAWebMenuBar.react").MenuBarItem,{tabOrder:d("WAWebTabOrder").TAB_ORDER.CHAT_HEADER_BUTTON,testid:void 0,icon:l.jsx(d("WAWebLinkIcon").LinkIcon,{}),onClick:t,title:d("WAWebCommonNewsletterStrings").getShareText()}):null;u=d("WAWebNewsletterMembershipUtil").iAmGuest(a)?l.jsx(c("WAWebNewsletterSubscribeButton.react"),{onClick:g,isLoading:j}):null;return l.jsxs(l.Fragment,{children:[v,s,u]})}a.displayName=a.name+" [from "+f.id+"]";function p(){return l.jsx(d("WAWebSpinner.react").Spinner,{color:"wdsSecondaryLighter",size:20})}p.displayName=p.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebPipYoutubeVideoPlayer.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={fullscreen:"_ah_a",container:"_ah_b",youtubeContainer:"_ah_c",redesign:"_ah_d",strippedVideoControls:"_ah_e",opacityTransition:"_ah_f",dimmed:"_ah_g"};b=a;g["default"]=b}),98);
__d("WAWebYoutube.react",["Promise","WAWebTimeSpentLoggingNavigation","asyncToGeneratorRuntime","lodash","react","youtube-player"],(function(a,b,c,d,e,f,g){var h,i,j;e=j||d("react");var k=i||(i=c("react")),l=e.useCallback,m=e.useEffect,n=e.useRef;function o(a,b){if(a.videoId!==b.videoId)return!0;a=((a=a.opts)==null?void 0:a.playerVars)||{};b=((b=b.opts)==null?void 0:b.playerVars)||{};return a.start!==b.start||a.end!==b.end}function p(a){return babelHelpers["extends"]({},a,{playerVars:babelHelpers["extends"]({},a==null?void 0:a.playerVars,{autoplay:0,start:0,end:0})})}function q(a,b){return!c("lodash").isEqual(p(a==null?void 0:a.opts),p(b==null?void 0:b.opts))}function r(a,b){return a.id===b.id||a.className===b.className}var s={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};function a(a){var e=a.onReady,f=e===void 0?function(a){}:e;e=a.onError;var g=e===void 0?function(a){}:e;e=a.onStateChange;var i=e===void 0?function(a){}:e;e=a.onEnd;var j=e===void 0?function(a){}:e;e=a.onPlay;var p=e===void 0?function(a){}:e;e=a.onPause;var t=e===void 0?function(a){}:e;e=a.onPlaybackRateChange;var u=e===void 0?function(a){}:e;e=a.onPlaybackQualityChange;var v=e===void 0?function(a){}:e;e=a.opts;var w=e===void 0?{playerVars:{}}:e,x=a.videoId;e=a.id;var y=e===void 0?null:e;e=a.className;var z=e===void 0?null:e;e=a.containerClassName;e=e===void 0?"":e;var A=n(null),B=n(null),C=n([]),D=n(a),E=l(function(a){return f(a)},[f]),F=l(function(a){return g(a)},[g]),G=l(function(a){i(a);switch(a.data){case s.ENDED:j(a);break;case s.PLAYING:p(a);break;case s.PAUSED:t(a);break;default:return}},[j,t,p,i]),H=l(function(a){return u(a)},[u]),I=l(function(a){return v(a)},[v]),J=l(function(){var a=babelHelpers["extends"]({},w,{videoId:x});B.current=c("youtube-player")(A.current,a);C.current.push(B.current.on("ready",E),(a=B.current)==null?void 0:a.on("error",F),(a=B.current)==null?void 0:a.on("stateChange",G),(a=B.current)==null?void 0:a.on("playbackRateChange",H),(a=B.current)==null?void 0:a.on("playbackQualityChange",I))},[F,I,H,E,G,w,x]);m(function(){J();return function(){var a;C.current.filter(Boolean).forEach(function(a){var b;(b=B.current)==null?void 0:b.off(a)});(a=B.current)==null?void 0:a.destroy()}},[]);var K=l(function(){var a;return(a=(a=B.current)==null?void 0:a.destroy().then(J))!=null?a:(h||(h=b("Promise"))).resolve()},[J]),L=l(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a;a=(yield (a=B.current)==null?void 0:a.getIframe());y?a==null?void 0:a.setAttribute("id",y):a==null?void 0:a.removeAttribute("id");z?a==null?void 0:a.setAttribute("class",z):a==null?void 0:a.removeAttribute("class")}),[z,y]),M=l(function(){if(x==null){var a;(a=B.current)==null?void 0:a.stopVideo();return}a=!1;var b,c;"playerVars"in w&&(a=w.playerVars.autoplay===1,"start"in w.playerVars&&(b=w.playerVars.start),"end"in w.playerVars&&(c=w.playerVars.end));var d={videoId:x,startSeconds:b,endSeconds:c};if(a){(a=B.current)==null?void 0:a.loadVideoById(d);return}(a=B.current)==null?void 0:a.cueVideoById(d)},[w,x]);m(function(){var b=D.current;r(b,a)&&L();q(b,a)&&K();o(b,a)&&M();D.current=a},[a,K,L,M]);d("WAWebTimeSpentLoggingNavigation").useTsNavigation({surface:"youtube-player"});return k.jsx("span",{className:e,children:k.jsx("div",{id:y,className:z,ref:A})})}a.displayName=a.name+" [from "+f.id+"]";g.PlayerState=s;g.YouTube=a}),98);
__d("WAWebPipYoutubeVideoTag.react",["WAWebABProps","WAWebPttAudioChannels","WAWebUserPrefsGeneral","WAWebYoutube.react","lodash","react","useWAWebInterval","useWAWebLazyRef","useWAWebOnUnmount","useWAWebStableCallback"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useEffect,l=b.useImperativeHandle,m=b.useRef,n=c("lodash").debounce(function(a){d("WAWebUserPrefsGeneral").setMediaVolumeSetting(a)},500),o=c("lodash").debounce(function(a){d("WAWebUserPrefsGeneral").setMediaMutedSetting(a)},500),p={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5},q={width:"100%",height:"100%",playerVars:{cc_load_policy:1,iv_load_policy:3,controls:0,playsinline:1,rel:0,modestbranding:0,autoplay:0}},r="https://whatsapp.com";e=j.forwardRef(a);function a(a,b){var e=babelHelpers["extends"]({},a),f=m(null),g=m(null),h=m(0),i=m(0),s=c("useWAWebLazyRef")(function(){return Symbol("audio-channel")}),t=m(null),u=(a=c("useWAWebStableCallback"))(function(){var a;(a=f.current)==null?void 0:a.playVideo()}),v=a(function(){var a;(a=f.current)==null?void 0:a.pauseVideo()}),w=a(function(a){var b;(b=f.current)==null?void 0:b.seekTo(a,!0)}),x=a(function(){var a;return(a=(a=f.current)==null?void 0:a.getCurrentTime())!=null?a:0}),y=a(function(){var a;return((a=(a=f.current)==null?void 0:a.getVolume())!=null?a:0)*.01}),z=a(function(){var a;return(a=(a=f.current)==null?void 0:a.getDuration())!=null?a:0}),A=a(function(){var a;return(a=(a=f.current)==null?void 0:a.isMuted())!=null?a:!1}),B=function(){var a=f.current;if(a){var b=a.getCurrentTime();b!==h.current&&(h.current=b,e.onTimeUpdate(b));b=a.getVideoLoadedFraction();if(b!==i.current){i.current=b;b=g.current?g.current.duration*b:0;e.onProgress([[0,b]])}b=g.current;if(b){var c=a.getVolume()*.01;a=a.isMuted();(c!==b.volume||a!==b.muted)&&(g.current=babelHelpers["extends"]({},b,{volume:c,muted:a}),e.onVolumeChange({volume:c,muted:a}))}}};B=c("useWAWebInterval")(B,250);var C=B[0],D=function(){if(typeof e.startTime==="number"){var a;(a=f.current)==null?void 0:a.seekTo(e.startTime,!0)}},E=a(function(a){var b=f.current;b&&(a?b.mute():b.unMute(),o(a))}),F=a(function(a){f.current&&(f.current.setVolume(a*100),n(a))});B=function(a){f.current=a.target;a=f.current;var b=d("WAWebUserPrefsGeneral").getMediaVolumeSettings(),c=b.volume;b=b.muted;var i=a.getDuration(),j=c!=null?c:a.getVolume()*.01,k=b!=null?b:a.isMuted(),l=a.getIframe().getBoundingClientRect(),m=l.width;l=l.height;g.current={duration:i,volume:j,muted:k,videoWidth:m,videoHeight:l};e.onLoadedMetadata(g.current);h.current=a.getCurrentTime();C();e.startTime!=null&&D();c!=null&&F(c);b!=null&&E(b)};a=function(a){t.current=d("WAWebPttAudioChannels").MainAudioChannel.claim(s.current,v),e.onPlaying()};var G=function(a){t.current==null?void 0:t.current(),e.onPause()},H=function(a){e.onEnded()},I=function(a){a.target.getPlayerState()!==p.PLAYING&&e.onPause()};k(function(){D()},[e.startTime]);c("useWAWebOnUnmount")(function(){t.current==null?void 0:t.current()});l(b,function(){return{play:u,pause:v,setCurrentTime:w,getCurrentTime:x,setVolume:F,setMuted:E,getVolume:y,getDuration:z,getMuted:A}},[u,v,w,x,F,E,y,z,A]);b=e.counterAbuseData;b=c("lodash").merge({},q,{playerVars:{autoplay:e.autoPlay?1:0,widget_referrer:r,origin:window.location.origin}},b!=null&&d("WAWebABProps").getABPropConfigValue("web_youtube_rcat_consumption_enabled")?{playerVars:{rct:b.counterAbuseToken,rctn:b.nonce}}:{});return j.jsx(d("WAWebYoutube.react").YouTube,{videoId:e.youtubeVideoId,opts:b,onReady:B,onPlay:a,onPause:G,onEnd:H,onError:e.onEnded,onStateChange:I})}a.displayName=a.name+" [from "+f.id+"]";b=e;g["default"]=b}),98);
__d("WAWebPipYoutubeVideoPlayer.react",["WAWebDomFullscreen","WAWebPipCloseButton.react","WAWebPipFullscreenToggleButton.react","WAWebPipShade.react","WAWebPipSharedVideoPlayer.react","WAWebPipVideoRefControls.react","WAWebPipYoutubeVideoPlayer.scss","WAWebPipYoutubeVideoTag.react","WAWebUA","WAWebVelocityTransitionGroup","lodash","react","useWAWebDebouncedCallback","useWAWebListener","useWAWebPrevious","useWAWebStableCallback"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react"));e=b.forwardRef;var k=b.useEffect,l=b.useRef,m=b.useState,n=e(function(a,b){var e=a.videoMetadata,f=a.newStyleActive,g=a.videoRef,h=a.mouseMoveRecently,i=a.isVideoPlaying,k=a.isFullscreenMode,l=a.onFullScreenToggle,m=a.onClose,n=a.onExposeIframeInPiP,o=a.mouseDownCoorRef;a=function(a){if(g.current){var b=a;e&&a>=e.duration-1&&e.duration>1&&(b=e.duration-1);g.current.setCurrentTime(b)}};var p=null;if(e){var q,r="x1ey2m1c x78zum5 xvt47uu xtzzx4i xexx8yu x6x52a7 x18d9i69 xxpdul3 x10l6tqk xds687c x1hc1fzr x13dflua x19991ni xwji4o3";p=j.jsx("div",{ref:b,style:(q={},q[c("WAWebPipYoutubeVideoPlayer.scss").dimmed]=!h,q),children:j.jsx(d("WAWebPipVideoRefControls.react").VideoRefControls,{refVideo:g.current,videoMetadata:e,isFullscreenMode:k,isVideoPlaying:i,handleSetCurrentTimeByControls:a,controlsClassName:k?r:void 0,onFullscreenToggle:f?l:void 0,onClose:f?m:void 0,newPiPStyle:f})});k||(p=j.jsx("div",{ref:b,className:"x5yr21d x10l6tqk xh8yej3",onMouseDown:function(a){o.current={x:a.clientX,y:a.clientY}},onMouseUp:function(a){var b=a.clientX;a=a.clientY;var c=o.current,d=c?c.x:void 0;c=c?c.y:void 0;d!=null&&c!=null&&Math.abs(b-d)+Math.abs(a-c)<4&&n(!0)},children:p}))}return p});function a(a){var b,e=a.onSetFullscreenToggleCallback,f=a.onRefSet,g=a.onVideoEnded,h=a.onError,i=a.startTime,o=a.onVideoMetadataChange,p=a.onClose,q=l(null),r=l(null),s=l(null),t=l(!0),u=l(null),v=m(void 0),w=v[0],x=v[1];v=m(!1);var y=v[0],z=v[1];v=m(!1);var A=v[0],B=v[1];v=m(!1);var C=v[0],D=v[1];v=m(!1);var E=v[0],F=v[1];v=m(!1);var G=v[0],H=v[1],I=c("useWAWebPrevious")(y),J=c("useWAWebPrevious")(w);d("useWAWebListener").useListener(c("WAWebDomFullscreen"),"fullscreen_change",function(){c("WAWebDomFullscreen").isFullscreenMode()&&c("WAWebDomFullscreen").getFullscreenElement()===q.current?F(!0):c("WAWebDomFullscreen").isFullscreenMode()||F(!1)});var K=function(a){a.stopPropagation(),E?c("WAWebDomFullscreen").exitFullscreen():c("WAWebDomFullscreen").requestFullscreen(q.current)},L=c("useWAWebDebouncedCallback")(function(){D(!1)},d("WAWebPipSharedVideoPlayer.react").FULLSCREEN_CONTROLS_DISPLAY_TIMEOUT);k(function(){e==null?void 0:e(K)},[]);v=c("useWAWebStableCallback")(function(a){r.current=a,a!=null&&(f==null?void 0:f(a))});var M=function(){g&&g(),z(!1)},N=function(){h&&h()},O=function(){var a,b=(a=(a=r.current)==null?void 0:a.getCurrentTime())!=null?a:null;x(function(a){return a&&b!=null?babelHelpers["extends"]({},a,{currentTime:b}):a});z(!1);s.current=!0},P=function(){var a,b=(a=(a=r.current)==null?void 0:a.getCurrentTime())!=null?a:null;x(function(a){return a&&b!=null?babelHelpers["extends"]({},a,{currentTime:b}):a});z(!0);s.current=!0},Q=function(a){var b=i!=null?i:0;x({duration:a.duration,currentTime:b,volume:a.volume,muted:a.muted,bufferedTime:0})},R=function(a){x(function(b){return b?babelHelpers["extends"]({},b,{volume:a.volume,muted:a.muted}):b})},S=function(a){if(s.current){s.current=!1;return}x(function(b){return b?babelHelpers["extends"]({},b,{currentTime:a}):b})},T=function(a){a=a[0];var b=a[1];x(function(a){return a?babelHelpers["extends"]({},a,{bufferedTime:b}):a})};k(function(){(I!==y||!c("lodash").isEqual(J,w))&&(o==null?void 0:o(w,y))},[y,I,o,w,J]);var U=a.exposeIframeInPiP||G||E?null:j.jsx("div",{className:"xv8j9no x1v7ier7 x17g6jn9 x1irjo1g x5yr21d x17qophe x10l6tqk x13vifvy xh8yej3"});b=j.jsxs("div",{className:"x10l6tqk x13vifvy xds687c x1ey2m1c x17qophe",style:(b={},b[c("WAWebPipYoutubeVideoPlayer.scss").fullscreen]=E,b),children:[U,j.jsx(c("WAWebPipYoutubeVideoTag.react"),{ref:v,youtubeVideoId:a.youtubeVideoId,startTime:a.startTime,onEnded:M,onError:N,onLoadedMetadata:Q,onPause:O,onPlaying:P,onProgress:T,onTimeUpdate:S,onVolumeChange:R,autoPlay:a.autoPlay,counterAbuseData:a.counterAbuseData})]});U=!a.disablePiPControls||E?j.jsx(n,{videoMetadata:w,newStyleActive:t.current,videoRef:r,mouseDownCoorRef:u,mouseMoveRecently:C,isVideoPlaying:y,isFullscreenMode:E,onFullScreenToggle:K,onClose:p,onExposeIframeInPiP:H}):null;var V;d("WAWebUA").UA.isSafari||(V=j.jsx(c("WAWebPipFullscreenToggleButton.react"),{isFullscreenMode:E,onClick:K}));v=j.jsx(c("WAWebPipShade.react"),{theme:"full-rounded"});N=E?j.jsxs(j.Fragment,{children:[b,U,t.current?null:j.jsxs("div",{className:"xwa7hi x17qophe x10l6tqk x13vifvy xh8yej3",style:(M={},M[c("WAWebPipYoutubeVideoPlayer.scss").dimmed]=!C,M),children:[V,j.jsx(c("WAWebPipCloseButton.react"),{isFullscreenMode:E,onClick:function(b){b.stopPropagation(),a.onClose()}})]})]}):j.jsxs(j.Fragment,{children:[b,j.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"fade-fast",children:A&&C&&!G&&!a.disablePiPControls?[v,U,V,j.jsx(c("WAWebPipCloseButton.react"),{isFullscreenMode:E,onClick:function(b){b.stopPropagation(),a.onClose()}},"close")]:null})]});return j.jsx("div",{ref:q,className:"xums3t4 x5yr21d xh8yej3",styles:(Q={},Q[c("WAWebPipYoutubeVideoPlayer.scss").fullscreen]=E,Q[c("WAWebPipYoutubeVideoPlayer.scss").redesign]=t.current,Q),onMouseEnter:function(a){if(G){if(d("WAWebUA").UA.isGecko&&A)return;H(!1)}B(!0)},onMouseLeave:function(a){B(!1)},onMouseDown:function(a){E&&a.stopPropagation()},onMouseMove:function(a){A||B(!0),C||D(!0),L()},children:N},"elementsWrapped")}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebPttCancelButton.react",["fbt","WAWebPttButton.react","react"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react");a=(i||(i=d("react"))).forwardRef;var l={pttCancelButton:{display:"x78zum5",alignItems:"x6s0dn4",justifyContent:"xl56j7k",width:"x1n7h9c3",height:"x1s1d1n7",color:"xlp4hpx",":hover_color":"x1gddwk9",$$css:!0}};b=a(function(a,b){var c=a.onConfirm,e=a.confirmOnMouseUp;a=a.disabled;return k.jsx(d("WAWebPttButton.react").PttButton,{ref:b,xstyle:l.pttCancelButton,testid:void 0,ariaLabel:h._("__JHASH__q7leJJI5-_X__JHASH__"),confirmOnMouseUp:e,onConfirm:c,disabled:a,children:k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 22",className:"x1kky2od",children:k.jsx("path",{d:"M5,0,3,2H0V4H16V2H13L11,0ZM15,5H1V19.5A2.5,2.5,0,0,0,3.5,22h9A2.5,2.5,0,0,0,15,19.5Z",fill:"currentColor"})})})});g.PttCancelButton=b}),226);
__d("WAWebPttPauseResumeRecordingButton.react",["fbt","WAWebPttButton.react","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k,l=k||c("react");a=(i||(i=d("react"))).forwardRef;var m={pttPauseAndResumeRecordingButton:{position:"x1n2onr6",width:"x1td3qas",height:"x10w6t97",color:"xz0mkc0",$$css:!0},pttPauseAndResumeRecordingButtonEnabled:{":hover_color":"xa8l713",$$css:!0},growOnHover:{transition:"x14sdrxx",transformOrigin:"x1g0ag68",$$css:!0},growOnHoverEnabled:{":hover_transform":"x1lcra6a",$$css:!0},icon:{position:"x10l6tqk",top:"x13vifvy",start:"x17qophe",width:"xh8yej3",height:"x5yr21d",opacity:"xg01cxk",transition:"xamds3w",transform:"xziw2gg",$$css:!0},iconActive:{opacity:"x1hc1fzr",transform:"x3oybdh",$$css:!0}};b=a(function(a,b){var e=a.recording,f=a.onConfirm,g=a.confirmOnMouseUp;a=a.disabled;a=a===void 0?!1:a;var i=e?h._("__JHASH__PonpV2tBf4e__JHASH__"):h._("__JHASH__R5tVbhjVHz8__JHASH__"),k=(j||(j=c("stylex")))(m.growOnHover,!a&&m.growOnHoverEnabled);return l.jsxs(d("WAWebPttButton.react").PttButton,{ref:b,xstyle:[m.pttPauseAndResumeRecordingButton,!a&&m.pttPauseAndResumeRecordingButtonEnabled],testid:void 0,ariaLabel:i,confirmOnMouseUp:g,onConfirm:f,disabled:a,children:[l.jsx("div",{className:j(m.icon,e&&m.iconActive),children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:[l.jsx("circle",{cx:"16",cy:"16",r:"14.75",fill:"none",stroke:"currentColor",strokeWidth:"2.5"}),l.jsx("path",{className:k,d:"M20.65,21.69V10.25H17.31V21.69Zm-9.3-11.44V21.69h3.34V10.25Z",fill:"currentColor"})]})}),l.jsx("div",{className:j(m.icon,!e&&m.iconActive),children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",className:k,children:[l.jsx("path",{fill:"currentColor",d:"M16,4c1.9,0,3.4,1.4,3.4,3.1v8.6c0,1.7-1.5,3.1-3.4,3.1 c-1.9,0-3.4-1.4-3.4-3.1V7.1C12.6,5.4,14.1,4,16,4"}),l.jsx("path",{fill:"currentColor",d:"M16.3,23.4c-0.2,0-0.6,0-0.9,0l-0.3,0c-3.7-0.4-6.6-3.7-7.1-7.8 L8,15.2c0-0.5,0.3-0.9,0.8-0.9h0.4c0.5,0,0.8,0.4,0.9,0.9l0.1,0.4c0.5,3.1,3,5.5,5.9,5.5c2.9,0,5.3-2.3,5.9-5.4l0.1-0.4 c0-0.5,0.4-0.9,0.9-0.9h0.4c0.4,0,0.8,0.4,0.8,0.9c0,0,0,0.1-0.1,0.6c-0.6,4.1-3.7,7.3-7.4,7.6L16.3,23.4z"}),l.jsx("path",{fill:"currentColor",d:"M17.1,27.3c0,0.4-0.4,0.7-0.9,0.7h-0.5c-0.5,0-0.9-0.3-0.9-0.7V23 c0-0.4,0.4-0.7,0.9-0.7h0.5c0.5,0,0.9,0.3,0.9,0.7V27.3z"})]})})]})});b.displayName="PttPauseAndResumeRecordingButton";g.PttPauseAndResumeRecordingButton=b}),226);
__d("WAWebPttSendButton.react",["fbt","WAWebL10N","WAWebPttButton.react","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k,l=k||c("react");a=(i||(i=d("react"))).forwardRef;var m={pttSendButton:{width:"x1n7h9c3",minWidth:"x1ask5yi",height:"x1s1d1n7",color:"x2jl805",$$css:!0},pttSendButtonEnabled:{":hover_color":"xof5ctd",$$css:!0},growOnHover:{transition:"x14sdrxx",transformOrigin:"x1g0ag68",$$css:!0},growOnHoverEnabled:{":hover_transform":"x1lcra6a",$$css:!0},pttSendButtonIconRTL:{transform:"xpk2tj9",$$css:!0}};b=a(function(a,b){var e=a.disabled;e=e===void 0?!1:e;var f=a.confirmOnMouseUp;a=a.onConfirm;return l.jsx(d("WAWebPttButton.react").PttButton,{ref:b,xstyle:[m.pttSendButton,!e&&m.pttSendButtonEnabled],testid:void 0,ariaLabel:h._("__JHASH__rTVI-iTC6XE__JHASH__"),confirmOnMouseUp:f,onConfirm:a,disabled:e,children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 35 35",className:(j||(j=c("stylex")))(c("WAWebL10N").isRTL()&&m.pttSendButtonIconRTL),children:[l.jsx("path",{d:"M17.5,0h0A17.51,17.51,0,0,1,35,17.5h0A17.51,17.51,0,0,1,17.5,35h0A17.51,17.51,0,0,1,0,17.5H0A17.51,17.51,0,0,1,17.5,0Z",fill:"currentColor"}),l.jsx("path",{className:j(m.growOnHover,!e&&m.growOnHoverEnabled),d:"M25.64,18.55,11.2,24.93a.86.86,0,0,1-1.13-.44.83.83,0,0,1-.06-.44l.48-4.11a1.36,1.36,0,0,1,1.24-1.19l7.51-.6a.16.16,0,0,0,.14-.16.16.16,0,0,0-.14-.14l-7.51-.6a1.36,1.36,0,0,1-1.24-1.19L10,12a.84.84,0,0,1,.74-.94.87.87,0,0,1,.45.06l14.44,6.38a.61.61,0,0,1,.31.79A.59.59,0,0,1,25.64,18.55Z",fill:"#fff"})]})})});g.PttSendButton=b}),226);
__d("WAWebPttStopButton.react",["fbt","WAWebPttButton.react","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k,l=k||c("react");a=(i||(i=d("react"))).forwardRef;var m={pttStopButton:{width:"x1td3qas",height:"x10w6t97",color:"xz0mkc0",$$css:!0},pttStopButtonEnabled:{":hover_color":"xa8l713",$$css:!0},growOnHover:{transition:"x14sdrxx",transformOrigin:"x1g0ag68",$$css:!0},growOnHoverEnabled:{":hover_transform":"x1lcra6a",$$css:!0}};b=a(function(a,b){var e=a.onConfirm,f=a.confirmOnMouseUp;a=a.disabled;a=a===void 0?!1:a;return l.jsx(d("WAWebPttButton.react").PttButton,{ref:b,xstyle:[m.pttStopButton,!a&&m.pttStopButtonEnabled],testid:void 0,ariaLabel:h._("__JHASH__1IH2wp5a4Na__JHASH__"),confirmOnMouseUp:f,onConfirm:e,disabled:a,children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:[l.jsx("path",{fill:"currentColor",d:"M16,0C7.2,0,0,7.2,0,16s7.2,16,16,16s16-7.2,16-16S24.8,0,16,0z M16,30C8.3,30,2,23.7,2,16S8.3,2,16,2 s14,6.3,14,14S23.7,30,16,30z"}),l.jsx("path",{className:(j||(j=c("stylex")))(m.growOnHover,!a&&m.growOnHoverEnabled),fill:"currentColor",d:"M13,11c-1.1,0-2,0.9-2,2v6c0,1.1,0.9,2,2,2h6c1.1,0,2-0.9,2-2v-6c0-1.1-0.9-2-2-2H13z"})]})})});g.PttStopButton=b}),226);
__d("WAWebDivider.react",["WAWebUISpacing","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k={divider:{height:"x1qx5ct2",borderEndWidth:"xm81vs4",borderEndStyle:"xu3j5b3",borderEndColor:"x1qqiy34",opacity:"xbyyjgo",$$css:!0}};function a(a){a=a.noMargin;a=a===void 0?!1:a;return j.jsx("div",{className:(i||(i=c("stylex")))(k.divider,d("WAWebUISpacing").uiMargin.end10,d("WAWebUISpacing").uiMargin.start18,a&&d("WAWebUISpacing").uiMargin.all0)})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebPttComposerStreamingEncryptor",["Promise","WACryptoAesCbc","WACryptoHmac","WAMediaCalculateFilehash","WAMediaCrypto","WATypedArraysConcat","WAWebCryptoCreateMediaKeys","WAWebMmsMediaTypes","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){var h,i=function(){function a(a){var c=a.mediaKeys,e=a.encKey,f=a.onChunkEncrypted;a=a.onEncryptionCompleted;this.$6=(h||(h=b("Promise"))).resolve();this.$3=c;this.$4=e;this.$5=d("WACryptoAesCbc").getIv(this.$3.iv);this.$2=[this.$5];this.$1=new Uint8Array([]);this.$8=f;this.$9=a;this.$7=!1}var e=a.prototype;e.getMediaKeys=function(){return this.$3};e.encryptChunk=function(a,e){var f=this;if(this.$7)throw c("err")("Encryption was already finalized");e&&(this.$7=!0);var g=this.$10(a,e);if(g==null)return;this.$6=this.$6.then(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("WACryptoAesCbc").aesCbcEncryptChunk(e,g,f.$5,f.$4));f.$8==null?void 0:f.$8(a.encryptedChunk);f.$11(a,e)}))};e.$11=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){this.$2.push(a.encryptedChunk);this.$5=a.nextIv;if(!b)return;a=d("WATypedArraysConcat").concatTypedArrays(Uint8Array,this.$2,d("WAMediaCrypto").HMAC_LENGTH);b=this.$2[0].byteLength;var c=a.byteLength-d("WAMediaCrypto").HMAC_LENGTH,e=a.subarray(0,c);e=(yield d("WACryptoHmac").hmacSha256(this.$3.macKey,e,d("WAMediaCrypto").HMAC_LENGTH));a.set(new Uint8Array(e),c);c=a.subarray(b);a=(yield d("WAMediaCalculateFilehash").calculateFilehash(c));this.$9==null?void 0:this.$9(e,a)});function c(b,c){return a.apply(this,arguments)}return c}();e.$10=function(a,b){this.$1=d("WATypedArraysConcat").concatTypedArrays(Uint8Array,[this.$1,a]);if(this.$1.length>=d("WACryptoAesCbc").AES_CBC_BLOCK_SIZE||b){a=b?this.$1.length:Math.floor(this.$1.length-this.$1.length%d("WACryptoAesCbc").AES_CBC_BLOCK_SIZE);b=this.$1.slice(0,a);b.subarray();var c=new Uint8Array(this.$1.length-a);c.set(this.$1.slice(a,this.$1.length));this.$1=c;return b}};return a}();function a(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield c("WAWebCryptoCreateMediaKeys")(d("WAWebMmsMediaTypes").MEDIA_TYPES.PTT,a.mediaKey)),e=(yield d("WACryptoAesCbc").importRawKey(b.encKey));return new i({mediaKeys:b,encKey:e,onChunkEncrypted:a.onChunkEncrypted,onEncryptionCompleted:a.onEncryptionCompleted})});return j.apply(this,arguments)}g.StreamingEncryptor=i;g.createStreamingEncryptor=a}),98);
__d("WAWebPttComposerRecordingSession",["fbt","invariant","$InternalEnum","JSResource","Promise","WAAbortError","WAHex","WALogger","WAMediaCalculateFilehash","WANullthrows","WAPromiseRaceAbort","WAPttComposerRecorder","WAPttComposerScaleWaveform","WAWebBaseModel","WAWebCallCollection","WAWebConfirmPopup.react","WAWebCreateMediaUploadMetrics","WAWebCryptoRandomMediaKey","WAWebGuidePopup.react","WAWebMedia","WAWebMediaCapture","WAWebMediaGetUploadOriginForChat","WAWebMediaLoad","WAWebMediaOpaqueData","WAWebMiscErrors","WAWebMmsClientUploadStreamer","WAWebMmsMediaTypes","WAWebModalManager","WAWebPresenceChatAction","WAWebPresenceCollection","WAWebPttAudioChannels","WAWebPttAudioManager","WAWebPttComposerRecordingSessionGetters","WAWebPttComposerStreamingEncryptor","WAWebPttDailyUtils","WAWebPttWamEvent","WAWebRecordingSessionStateEnum","WAWebSerializeError","WAWebServerPropsModel","WAWebTimeSpentLoggingExternal","WAWebUploadStreamerRefactorGatingUtils","WAWebWamEnumPttResultType","WAWebWamEnumPttSourceType","WAWebWamEnumTsExternalEventSource","WAWebWamMediaMetricUtils","asyncToGeneratorRuntime","err","gkx","lodash","react"],(function(a,b,c,d,e,f,g,h,i){var j,k;function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["Error resuming recording session\n",""],["Error resuming recording session\\n",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["PTT Recording Error\n",""],["PTT Recording Error\\n",""]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["PTT Streaming Upload cancelled due to a problem encrypting"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["PTT Streaming Upload cancelled due to a problem when finalizing upload"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["onEncryptionCompleted: ptt-streaming-upload-error: ",""]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["PTT Streaming Upload cancelled due to a problem uploading"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["onChunkEncrypted: ptt-streaming-upload-error: ",""]);r=function(){return a};return a}var s=k||c("react"),t=b("$InternalEnum").Mirrored(["CANCEL_BUTTON","PTT_TOO_SHORT","SENT","OTHER"]),u=1,v=8.5,w=64;e=function(a){babelHelpers.inheritsLoose(e,a);function e(){var b,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=c=a.call.apply(a,[this].concat(f))||this,c.id=d("WAWebBaseModel").prop(),c.duration=d("WAWebBaseModel").prop(0),c.exceedsMinDuration=d("WAWebBaseModel").prop(!1),c.recordingState=d("WAWebBaseModel").prop(d("WAWebRecordingSessionStateEnum").RecordingSessionState.NOT_STARTED),c._hasStreamingUploadFailed=d("WAWebBaseModel").prop(!1),c._draftPreviewSeen=d("WAWebBaseModel").prop(!1),c._draftPlayCount=d("WAWebBaseModel").prop(0),c._draftSeekCount=d("WAWebBaseModel").prop(0),c._pauseCount=d("WAWebBaseModel").prop(0),c._stopTapCount=d("WAWebBaseModel").prop(0),b)||babelHelpers.assertThisInitialized(c)}var f=e.prototype;f.initialize=function(){var b=this;a.prototype.initialize.call(this);var c=null;this.on("change:recordingState",function(){b._endTsExternalEvent==null?void 0:b._endTsExternalEvent();if(b._chat==null)return;d("WAWebPttComposerRecordingSessionGetters").getIsRecording(b)?(c=d("WAWebPttAudioChannels").MainAudioChannel.claim(b,function(){b.pause()}),d("WAWebPresenceChatAction").markRecording(b._chat),b._endTsExternalEvent=d("WAWebTimeSpentLoggingExternal").beginTsExternalEvent(d("WAWebWamEnumTsExternalEventSource").TS_EXTERNAL_EVENT_SOURCE.PTT_RECORD)):(c==null?void 0:c(),d("WAWebPresenceChatAction").markPaused(b._chat))})};f.start=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=this;switch(this.recordingState){case d("WAWebRecordingSessionStateEnum").RecordingSessionState.NOT_STARTED:break;case d("WAWebRecordingSessionStateEnum").RecordingSessionState.RECORDING:return!0;case d("WAWebRecordingSessionStateEnum").RecordingSessionState.PAUSED:return this.resume();case d("WAWebRecordingSessionStateEnum").RecordingSessionState.STOPPED:case d("WAWebRecordingSessionStateEnum").RecordingSessionState.ERROR:throw c("err")("Can't start recording from state "+this.recordingState)}var e=c("WAWebCreateMediaUploadMetrics")(d("WAWebMmsMediaTypes").MEDIA_TYPES.PTT,c("WAWebMediaGetUploadOriginForChat")(this._chat),0,!1,!1),f=e.handleUploadHostFound,g=e.handleUploadAttemptSuccess,h=e.handleUploadAttemptError,i=e.handleUploadSuccess,k=e.handleUploadError,l=e.handleEncryptionStart,s=e.handleEncryptionSuccess,t=e.handleStreamUploadStart,v=e.handleUploadProgress;e=e.handleSendMessageStart;this._handleSendMessageStart=e;if(d("WAWebUploadStreamerRefactorGatingUtils").isUploadStreamerRefactorEnabled()){var w=c("WAWebCryptoRandomMediaKey")();this._earlyUploadPromise=new(j||(j=b("Promise")))(function(b){a._resolveEarlyUploadPromise=b});e=new AbortController();this._uploaderAbortController=e;var x=(yield d("WAMediaCalculateFilehash").getRandomFilehash()),y=new(d("WAWebMmsClientUploadStreamer").UploadStreamer)({encFilehash:x,token:x,type:d("WAWebMmsMediaTypes").MEDIA_TYPES.PTT,signal:e.signal,byteOffset:0,onUploadHostFound:f,onUploadAttemptSuccess:g,onUploadAttemptError:h,onProgress:function(a,b){v(a.loaded+b)},onStreamUploadStart:t,mediaId:d("WAWebWamMediaMetricUtils").generateMediaEventId()});y.startUploadFromClient();this._encryptor=(yield d("WAWebPttComposerStreamingEncryptor").createStreamingEncryptor({mediaKey:w.key,onChunkEncrypted:function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){try{yield y.uploadChunkFromClient(b)}catch(b){a._resolveEarlyUploadPromise==null?void 0:a._resolveEarlyUploadPromise(null);a._hasStreamingUploadFailed=!0;if(b.name===d("WAAbortError").ABORT_ERROR)return;d("WALogger").ERROR(r(),b.message);d("WALogger").ERROR(q()).devConsole(b).sendLogs("ptt-streaming-upload-failed");k(b)}});function e(a){return c.apply(this,arguments)}return e}(),onEncryptionCompleted:function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,c){s();try{yield y.uploadChunkFromClient(new Uint8Array(b));b=(yield y.finalizeUploadFromClient(c));a._resolveEarlyUploadPromise==null?void 0:a._resolveEarlyUploadPromise({directPath:b.directPath,mediaKey:w.key,mediaKeyTimestamp:w.timestamp,encFilehash:c,url:b.url});i()}catch(b){a._resolveEarlyUploadPromise==null?void 0:a._resolveEarlyUploadPromise(null);a._hasStreamingUploadFailed=!0;if(b.name===d("WAAbortError").ABORT_ERROR)return;d("WALogger").ERROR(p(),b.message);d("WALogger").ERROR(o()).devConsole(b).sendLogs("ptt-streaming-upload-failed");k(b)}});function e(a,b){return c.apply(this,arguments)}return e}()}))}try{var z=!0;this._recorder=new(c("WAPttComposerRecorder"))({createStream:B,waveformSampleRate:this.getWaveformSampleRate(),onDuration:function(b){a.duration=b,a.exceedsMinDuration=b>=u},onPage:function(b,c){if(!d("WAWebUploadStreamerRefactorGatingUtils").isUploadStreamerRefactorEnabled()||a._hasStreamingUploadFailed)return;try{var e;z&&(l(),z=!1);(e=a._encryptor)==null?void 0:e.encryptChunk(b,c)}catch(b){d("WALogger").ERROR(n()).devConsole(b),a._resolveEarlyUploadPromise==null?void 0:a._resolveEarlyUploadPromise(null),a._hasStreamingUploadFailed=!0}}});x=(yield this._recorder.start());if(x){this.recordingState=d("WAWebRecordingSessionStateEnum").RecordingSessionState.RECORDING;d("WAWebPresenceCollection").PresenceCollection.update(this._chat.presence.id);d("WAWebPttDailyUtils").incrementPttDailyCount(d("WAWebPttDailyUtils").PttDailyCountKind.RECORD,c("WANullthrows")(this._chat.kind));return!0}}catch(a){d("WALogger").ERROR(m(),c("WAWebSerializeError")(a)).devConsole(a)}this._endSession();this.recordingState=d("WAWebRecordingSessionStateEnum").RecordingSessionState.ERROR;return!1});function e(){return a.apply(this,arguments)}return e}();f.getLiveWaveformSamples=function(){var a;return(a=(a=this._recorder)==null?void 0:a.getLiveWaveformSamples())!=null?a:[]};f.getCorrectedWaveformSamples=function(){var a;return(a=(a=this._recorder)==null?void 0:a.getCorrectedWaveformSamples())!=null?a:[]};f.getScaledWaveformSamples=function(){return c("WAPttComposerScaleWaveform")(this.getCorrectedWaveformSamples(),w).map(function(a){return Math.floor(a*100)})};f.getPreciseDuration=function(){var a;return(a=(a=this._recorder)==null?void 0:a.getPreciseDuration())!=null?a:0};f._endSession=function(){var a;(a=this._recorder)==null?void 0:a.stop()};f.pause=function(){if(this.recordingState!==d("WAWebRecordingSessionStateEnum").RecordingSessionState.RECORDING)return;if(!this.exceedsMinDuration){this.stop(t.PTT_TOO_SHORT);return}this.recordingState=d("WAWebRecordingSessionStateEnum").RecordingSessionState.PAUSED;var a=c("WANullthrows")(this._recorder);a.pause()};f.resume=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){switch(this.recordingState){case d("WAWebRecordingSessionStateEnum").RecordingSessionState.RECORDING:return!0;case d("WAWebRecordingSessionStateEnum").RecordingSessionState.PAUSED:break;case d("WAWebRecordingSessionStateEnum").RecordingSessionState.NOT_STARTED:case d("WAWebRecordingSessionStateEnum").RecordingSessionState.STOPPED:case d("WAWebRecordingSessionStateEnum").RecordingSessionState.ERROR:throw c("err")("Can't resume recording from state "+this.recordingState)}this.recordingState=d("WAWebRecordingSessionStateEnum").RecordingSessionState.RECORDING;try{var a=c("WANullthrows")(this._recorder);a=(yield a.resume());if(!a){this.recordingState=d("WAWebRecordingSessionStateEnum").RecordingSessionState.PAUSED;return!1}return!0}catch(a){this.recordingState=d("WAWebRecordingSessionStateEnum").RecordingSessionState.ERROR;d("WALogger").ERROR(l(),c("WAWebSerializeError")(a));return!1}});function e(){return a.apply(this,arguments)}return e}();f.stop=function(a){if(this.recordingState===d("WAWebRecordingSessionStateEnum").RecordingSessionState.STOPPED)return;this.recordingState=d("WAWebRecordingSessionStateEnum").RecordingSessionState.STOPPED;this._endSession();if(this._recorder==null)return;a===t.SENT?d("WAWebPttDailyUtils").incrementPttDailyCount(d("WAWebPttDailyUtils").PttDailyCountKind.SEND,c("WANullthrows")(this._chat.kind)):this.duration>u&&d("WAWebPttDailyUtils").incrementPttDailyCount(d("WAWebPttDailyUtils").PttDailyCountKind.CANCEL,c("WANullthrows")(this._chat.kind));a!==t.SENT&&this._uploaderAbortController&&this._uploaderAbortController.abort();a=A(a);a!=null&&this._sendPttWamEvent(a)};f._getDataForSending=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=c("WANullthrows")(this._recorder);a=(yield a.getCompleteRecording());return c("WAWebMediaOpaqueData").createFromData(a,a.type)});function a(){return a.apply(this,arguments)}return a}();f._getDataForPlayback=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=c("WANullthrows")(this._recorder);a=(yield a.getPartialRecording());a=(yield d("WAWebMediaLoad").transcode(a));return c("WAWebMediaOpaqueData").createFromData(a,a.type)});function a(){return a.apply(this,arguments)}return a}();f.getAudioForPlayback=function(){var a=this;return new D(function(){return a._getDataForPlayback()})};f.getWaveformSampleRate=function(){return v};f.send=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;a===void 0&&(a=!1);this._handleSendMessageStart==null?void 0:this._handleSendMessageStart(a);var e=c("WANullthrows")(this._recorder),f=this._chat,g=c("WAPromiseRaceAbort")(this._getDataForSending(),f.deleteSignal);b=((b=f.getComposeContents())==null?void 0:b.ctwaContext)||void 0;e=d("WAWebMedia").prepRawMedia(g,{isPtt:!0,precomputedFields:{duration:Math.floor(e.getDuration()),waveform:new Uint8Array(this.getScaledWaveformSamples())}});e.sendToChat(f,{quotedMsg:f.composeQuotedMsg||void 0,addEvenWhilePreparing:!a,ctwaContext:b,isViewOnce:a},this._earlyUploadPromise);f.composeQuotedMsg=null;this.stop(t.SENT);yield g["catch"](d("WAAbortError").catchAbort(function(){}))});function e(b){return a.apply(this,arguments)}return e}();f._sendPttWamEvent=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=c("WANullthrows")(this._recorder);b=(yield b.getCompleteRecording());new(d("WAWebPttWamEvent").PttWamEvent)({pttSource:d("WAWebWamEnumPttSourceType").PTT_SOURCE_TYPE.FROM_CONVERSATION,pttResult:a,pttDuration:Math.round(this.duration)*1e3,pttSize:c("lodash").round((a=b.size)!=null?a:0,-3),pttStop:this._draftPreviewSeen,pttDraftPlayCnt:this._draftPlayCount,pttDraftSeekCnt:this._draftSeekCount,pttPauseCnt:this._pauseCount,pttStopTapCnt:this._stopTapCount}).commit()});function a(b){return a.apply(this,arguments)}return a}();f.markDraftPreviewSeen=function(){if(this._draftPreviewSeen)return;this._draftPreviewSeen=!0;d("WAWebPttDailyUtils").incrementPttDailyCount(d("WAWebPttDailyUtils").PttDailyCountKind.DRAFT_REVIEW,c("WANullthrows")(this._chat.kind))};f.incrementDraftPlayCount=function(){this._draftPlayCount++};f.incrementDraftSeekCount=function(){this._draftSeekCount++};f.incrementPauseButtonCount=function(){d("WAWebServerPropsModel").ServerProps.pttPausableEnabled?(this._pauseCount++,this._pauseCount===1&&d("WAWebPttDailyUtils").incrementPttDailyCount(d("WAWebPttDailyUtils").PttDailyCountKind.PAUSED_RECORD,c("WANullthrows")(this._chat.kind))):(this._stopTapCount++,this._stopTapCount===1||i(0,56370),d("WAWebPttDailyUtils").incrementPttDailyCount(d("WAWebPttDailyUtils").PttDailyCountKind.STOP_TAP,c("WANullthrows")(this._chat.kind)))};f["delete"]=function(){a.prototype["delete"].call(this),d("WAWebPttComposerRecordingSessionGetters").clearRecordingSessionGetterCacheFor(this)};return e}(d("WAWebBaseModel").BaseModel);e.Proxy="recordingSession";function x(){return y.apply(this,arguments)}function y(){y=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=!0;if(c("gkx")("26255")){var b=(yield c("JSResource")("WAWebElectronMediaAccessUtils").__setRef("WAWebPttComposerRecordingSession").load());b=b.checkForMicrophoneAccess;a=(yield b())}return a});return y.apply(this,arguments)}var z=d("WAWebBaseModel").defineModel(e);function a(a){return new z({id:d("WAHex").randomHex(8),_chat:a.chat})}function A(a){switch(a){case t.SENT:return d("WAWebWamEnumPttResultType").PTT_RESULT_TYPE.SENT;case t.PTT_TOO_SHORT:return d("WAWebWamEnumPttResultType").PTT_RESULT_TYPE.TOO_SHORT;case t.CANCEL_BUTTON:return d("WAWebWamEnumPttResultType").PTT_RESULT_TYPE.CANCELLED;case t.OTHER:return null}}function B(a){return C.apply(this,arguments)}function C(){C=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield x());if(!b||a.aborted)return null;if(c("WAWebCallCollection").activeCall){d("WAWebModalManager").ModalManager.open(s.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:function(){return d("WAWebModalManager").ModalManager.close()},children:h._("__JHASH__4zG1ZkGyzX0__JHASH__")}));return null}b=d("WAWebMediaCapture").start("microphone");var e=b.disposeStream;b=b.asyncStream;a.addEventListener("abort",function(){e()},{once:!0});try{return yield b}catch(a){if(a instanceof d("WAWebMiscErrors").GetUserMedia.NotAllowedError){d("WAWebModalManager").ModalManager.open(s.jsx(d("WAWebGuidePopup.react").GuidePopup,{messaging:d("WAWebGuidePopup.react").Messaging.MIC_FAIL,type:d("WAWebGuidePopup.react").GuidePopupType.GUIDE_UNBLOCK}));return null}if(a instanceof d("WAWebMiscErrors").GetUserMedia.GetUserMediaError){d("WAWebModalManager").ModalManager.open(s.jsx(d("WAWebGuidePopup.react").GuidePopup,{messaging:d("WAWebGuidePopup.react").Messaging.MIC_MISSING,type:d("WAWebGuidePopup.react").GuidePopupType.GUIDE_NONE}));return null}throw a}});return C.apply(this,arguments)}var D=function(){function a(a){var c=this;this._opaqueDataPromise=a();a=d("WAWebPttAudioManager").AudioManager.createAudioProxy();this._audio=a;this._unregisterFromAudioChannel=d("WAWebPttAudioChannels").MainAudioChannel.registerMedia(a);b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c._opaqueDataPromise),b=c._audio;if(b==null)return;b.src=a.url()})()}var c=a.prototype;c.getAudio=function(){this._audio!=null||i(0,56371);return this._audio};c.dispose=function(){var a=this,c=this._audio;if(c==null)return;this._unregisterFromAudioChannel();this._audio=null;b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=(yield a._opaqueDataPromise);b.autorelease()})()};return a}();g.RecordingSessionStopReason=t;g.RecordingSession=z;g.createRecordingSession=a;g.AudioResource=D}),226);
__d("useWAWebPttRecordingSessionValues",["useWAWebCollectionValues"],(function(a,b,c,d,e,f,g){function a(a,b){return d("useWAWebCollectionValues").useModelGetterValues(a,b)}g.usePttRecordingSessionValues=a}),98);
__d("WAWebPttComposer.react",["$InternalEnum","WANullthrows","WAWebAttachMediaViewOnce.react","WAWebBizCoexUtils","WAWebClock","WAWebDivider.react","WAWebMsgType","WAWebPttCancelButton.react","WAWebPttComposerRecordingSession","WAWebPttComposerRecordingSessionGetters","WAWebPttComposerWaveform.react","WAWebPttPauseResumeRecordingButton.react","WAWebPttPlayPauseButton.react","WAWebPttSendButton.react","WAWebPttStopButton.react","WAWebPttTsExternalLogger","WAWebRecordingSessionStateEnum","WAWebServerPropsModel","WAWebTabOrder","WAWebUISpacing","WAWebUserPrefsMeUser","WAWebVelocityTransitionGroup","WAWebViewOnceGatingUtils","asyncToGeneratorRuntime","err","react","stylex","useWAWebEventTargetValue","useWAWebListener","useWAWebOnUnmount","useWAWebPttRecordingSessionValues","useWAWebStableCallback","useWAWebToggle"],(function(a,b,c,d,e,f,g){var h,i,j;e=j||d("react");var k=h||(h=c("react")),l=e.useCallback,m=e.useEffect,n=e.useRef,o=e.useState,p=b("$InternalEnum").Mirrored(["RECORDER","PREVIEW"]);function a(a){var e=a.chat,f=a.recordingSession,g=a.onComplete;a=n();var h=o(function(){switch(f.recordingState){case d("WAWebRecordingSessionStateEnum").RecordingSessionState.PAUSED:return p.PREVIEW;case d("WAWebRecordingSessionStateEnum").RecordingSessionState.RECORDING:return p.RECORDER;default:throw c("err")("Invalid recording session state: "+f.recordingState)}}),j=h[0],s=h[1];h=o(function(){return j===p.PREVIEW?f.getAudioForPlayback():null});var t=h[0],u=h[1];h=c("useWAWebToggle")(!1);var v=h[0];h=h[1];m(function(){if(t!=null)return d("WAWebPttTsExternalLogger").attachPttPlayTimeSpentLogger(t.getAudio())},[t]);var w=function(){u(null),t==null?void 0:t.dispose()},x=t==null?void 0:t.getAudio(),y=n(),z=n(),A=n(f);A.current=f;var B=c("useWAWebEventTargetValue")(f,"change:duration",function(){return Math.floor(f.duration)}),C=o(function(){return Math.floor((x==null?void 0:x.currentTime)||0)}),D=C[0],E=C[1];C=o(function(){return((x==null?void 0:x.currentTime)||0)===0});var F=C[0],G=C[1],H=function(a){E(Math.floor(a)),G(a===0)};d("useWAWebListener").useListener(x,"timeupdate",function(){var a;H((a=x==null?void 0:x.currentTime)!=null?a:0)});C=o(null);var I=C[0],J=C[1];C=d("useWAWebPttRecordingSessionValues").usePttRecordingSessionValues(f,[d("WAWebPttComposerRecordingSessionGetters").getExceedsMinDuration,d("WAWebPttComposerRecordingSessionGetters").getIsRecording]);var K=C[0],L=C[1];d("useWAWebListener").useListener(f,"change:recordingState",function(){(f.recordingState===d("WAWebRecordingSessionStateEnum").RecordingSessionState.STOPPED||f.recordingState===d("WAWebRecordingSessionStateEnum").RecordingSessionState.ERROR)&&g()});C=c("useWAWebEventTargetValue")(x,["play","pause"],function(){return x!=null&&!x.paused});var M=q(),N=function(){f.stop(d("WAWebPttComposerRecordingSession").RecordingSessionStopReason.CANCEL_BUTTON)};m(function(){L&&self.setTimeout(function(){var a;(a=y.current)==null?void 0:a.focus()},100)},[L]);m(function(){j===p.PREVIEW&&(A.current.markDraftPreviewSeen(),self.setTimeout(function(){var a;(a=z.current)==null?void 0:a.focus()},100))},[j]);c("useWAWebOnUnmount")(function(){x==null?void 0:x.pause(),w(),f.pause()});var O=function(){f.send(v)};d("useWAWebListener").useListener(f,"change:recordingState",function(){if(d("WAWebPttComposerRecordingSessionGetters").getIsRecording(f))return;if(f.recordingState!==d("WAWebRecordingSessionStateEnum").RecordingSessionState.PAUSED)return;w();var a=f.getAudioForPlayback();u(a);H(0);s(p.PREVIEW)});var P=function(){f.incrementPauseButtonCount(),f.pause()},Q=function(){f.incrementPauseButtonCount(),f.pause()},R=function(){b("asyncToGeneratorRuntime").asyncToGenerator(function*(){x==null?void 0:x.pause();s(p.RECORDER);var a=(yield f.resume());a||s(p.PREVIEW)})()},S=function(){var a=c("WANullthrows")(x);a.paused?(a.play(),f.incrementDraftPlayCount()):a.pause()};d("useWAWebListener").useListener(x,"ended",function(){c("WANullthrows")(x).load()});var T=l(function(){var a;return(a=x==null?void 0:x.currentTime)!=null?a:0},[x]),U=c("useWAWebStableCallback")(function(){return f.getPreciseDuration()}),V=c("useWAWebStableCallback")(function(){return f.duration}),W=c("useWAWebStableCallback")(function(){return f.getLiveWaveformSamples()}),aa=c("useWAWebStableCallback")(function(){return f.getCorrectedWaveformSamples()}),X=c("useWAWebStableCallback")(function(a){H(a),J(null),c("WANullthrows")(x).currentTime=a,f.incrementDraftSeekCount()}),Y=c("useWAWebStableCallback")(function(a){J(Math.floor(a))}),Z,$;d("WAWebServerPropsModel").ServerProps.pttPausableEnabled?$=k.jsx("div",{className:"x78zum5 xq8finb",children:k.jsx(d("WAWebPttPauseResumeRecordingButton.react").PttPauseAndResumeRecordingButton,{recording:j===p.RECORDER,confirmOnMouseUp:M,onConfirm:j===p.RECORDER?Q:R})}):Z=k.jsx("div",{className:"x78zum5 xq8finb",children:k.jsx(d("WAWebPttStopButton.react").PttStopButton,{confirmOnMouseUp:M,onConfirm:P})});Q=k.jsxs("div",{className:"x10l6tqk x13vifvy xds687c x1ey2m1c x17qophe x78zum5 x6s0dn4 x16n37ib",children:[k.jsx(r,{time:B}),k.jsx("div",{className:"x78zum5 x1iyjqo2 xs83m0k x1r8uery x1fgtraw xmo9yow xsgj6o6",children:k.jsx(d("WAWebPttComposerWaveform.react").Waveform,{location:d("WAWebPttComposerWaveform.react").WaveformLocation.DRAFT_PREVIEW,sampleRate:f.getWaveformSampleRate(),getSamples:W,getCurrentTime:T,getDuration:U,live:L,mode:d("WAWebPttComposerWaveform.react").WaveformMode.RECORDER,onSeek:Y,onSeekEnd:X,tabIndex:d("WAWebTabOrder").TAB_ORDER.PTT_BUTTON})}),Z]});R=d("WAWebViewOnceGatingUtils").isSendingViewOnceV2Enabled()&&!e.isNewsletter&&!e.contact.isEnterprise&&!d("WAWebBizCoexUtils").isMeOrCurrentContactHosted(e.contact)&&!d("WAWebUserPrefsMeUser").isMeAccount(e.contact.id)?k.jsx("div",{className:(i||(i=c("stylex")))(d("WAWebUISpacing").uiMargin.horiz12),children:k.jsx(c("WAWebAttachMediaViewOnce.react"),{mediaType:d("WAWebMsgType").MSG_TYPE.PTT,dimension:24,onChange:h,isOn:v,disabled:!1,shouldShowNux:j===p.PREVIEW})}):null;W=(P=I)!=null?P:F?B:D;U=k.jsxs("div",{className:"x10l6tqk x13vifvy xds687c x1ey2m1c x17qophe x78zum5 x6s0dn4 xq8finb x1cxxrxm xu5n5zk xedjqqo x1388hgl xd0q4p1 x6q15bo x14bsz84 x1e6ar86 x18poeml x1fnp2h5 xzt5al7 x1w2lkzu x1oq7267",children:[k.jsx(d("WAWebPttPlayPauseButton.react").PttPlayPauseButton,{ref:z,theme:"compose-box",paused:!C,onConfirm:S}),k.jsx("div",{className:"x78zum5 x1iyjqo2 xs83m0k x1r8uery x1fgtraw x1t4t16n x17adc0v",children:k.jsx(d("WAWebPttComposerWaveform.react").Waveform,{location:d("WAWebPttComposerWaveform.react").WaveformLocation.DRAFT_PREVIEW,sampleRate:f.getWaveformSampleRate(),getSamples:aa,getCurrentTime:T,getDuration:V,live:C,mode:d("WAWebPttComposerWaveform.react").WaveformMode.PREVIEW,onSeek:Y,onSeekEnd:X,tabIndex:d("WAWebTabOrder").TAB_ORDER.PTT_BUTTON})}),k.jsx(r,{time:W})]});return k.jsxs("div",{ref:a,className:"x78zum5 x6s0dn4 xh8yej3 x19ygybj",children:[k.jsx(d("WAWebPttCancelButton.react").PttCancelButton,{ref:y,confirmOnMouseUp:M,onConfirm:N}),k.jsx("div",{className:"x1n2onr6 x78zum5 x1iyjqo2 xs83m0k x1r8uery x6s0dn4 xwvwv9b",children:k.jsxs(c("WAWebVelocityTransitionGroup"),{transitionName:"fade",children:[j===p.RECORDER?Q:null,j===p.PREVIEW?U:null]})}),$,R&&k.jsx(c("WAWebDivider.react"),{noMargin:!0}),R,k.jsx(d("WAWebPttSendButton.react").PttSendButton,{disabled:!K,confirmOnMouseUp:M,onConfirm:O})]})}a.displayName=a.name+" [from "+f.id+"]";function q(){var a=o(!1),b=a[0],c=a[1],d=250;m(function(){var a=self.setTimeout(function(){c(!0)},d),b=function(){c(!1),e()};window.addEventListener("mouseup",b);var e=function(){window.removeEventListener("mouseup",b),self.clearTimeout(a)};return e},[]);return b}function r(a){a=a.time;return k.jsx("div",{className:"x2c5eco x1603h9y",role:"timer",children:d("WAWebClock").Clock.durationStr(a)})}r.displayName=r.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebDatePicker.react",["WAWebL10N","WAWebUseIsKeyboardUser","react","react-calendar","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k={calendarOverride:{":first-child > .react-calendar_width":"xf2fit4",":first-child > .react-calendar_maxWidth":"xiovny",":first-child > .react-calendar_backgroundColor":"x13ydwdk",":first-child > .react-calendar_lineHeight":"x1cjocb7",":first-child > .react-calendar_boxSizing":"x1f0q22a",":first-child > .react-calendar_borderTopStartRadius":"x1tez8t4",":first-child > .react-calendar_borderTopEndRadius":"x1wdd4z3",":first-child > .react-calendar_borderBottomEndRadius":"x13cp8xe",":first-child > .react-calendar_borderBottomStartRadius":"x1gklatd",":first-child > .react-calendar_paddingBottom":"x1iw8phr",":first-child .react-calendar__tile--now_backgroundColor":"x1artvld",":first-child .react-calendar__tile--now_borderTopStartRadius":"xiqhc4b",":first-child .react-calendar__tile--now_borderTopEndRadius":"x1ey7d6w",":first-child .react-calendar__tile--now_borderBottomEndRadius":"x33m3v9",":first-child .react-calendar__tile--now_borderBottomStartRadius":"x1cws091",":first-child .react-calendar__tile:disabled_color":"xmdgcn3",":first-child .react-calendar__tile:disabled_cursor":"xmfynt6",":first-child .react-calendar__month-view__weekdays__weekday_textAlign":"x1s22pda",":first-child .react-calendar__tile--now.react-calendar__month-view__days__day_backgroundColor":"x1bdrdso",":first-child .react-calendar__tile--now.react-calendar__month-view__days__day > abbr_backgroundColor":"x1gu7c6u",":first-child .react-calendar__tile--now.react-calendar__month-view__days__day > abbr_borderTop":"x1puvmm0",":first-child .react-calendar__tile--now.react-calendar__month-view__days__day > abbr_borderEnd":"x2gc2bn",":first-child .react-calendar__tile--now.react-calendar__month-view__days__day > abbr_borderBottom":"x1qmy6ek",":first-child .react-calendar__tile--now.react-calendar__month-view__days__day > abbr_borderStart":"x1px4hjr",":first-child .react-calendar__tile--now.react-calendar__month-view__days__day > abbr_borderTopStartRadius":"x1hfdxgz",":first-child .react-calendar__tile--now.react-calendar__month-view__days__day > abbr_borderTopEndRadius":"xppo158",":first-child .react-calendar__tile--now.react-calendar__month-view__days__day > abbr_borderBottomEndRadius":"x1w3omix",":first-child .react-calendar__tile--now.react-calendar__month-view__days__day > abbr_borderBottomStartRadius":"x4qerkx",":first-child .react-calendar__tile--now.react-calendar__month-view__days__day > abbr_color":"x1bak1w0",":first-child .react-calendar__tile--now.react-calendar__month-view__days__day > abbr_display":"x1xhbldp",":first-child .react-calendar__tile--now.react-calendar__month-view__days__day > abbr_width":"xqikpf9",":first-child .react-calendar__tile--now.react-calendar__month-view__days__day > abbr_height":"xc078lw",":first-child .react-calendar__tile--now.react-calendar__month-view__days__day > abbr_textAlign":"x6wgh2k",":first-child .react-calendar__tile--now.react-calendar__month-view__days__day > abbr_lineHeight":"xf5t2sd",":first-child .react-calendar__month-view__days__day_fontSize":"xw4zml3",":first-child .react-calendar__month-view__weekdays__weekday > abbr_fontSize":"xhtlxvv",":first-child .react-calendar__month-view__weekdays__weekday > abbr_textDecoration":"xra6te8",":first-child button_marginTop":"x1e4ppt3",":first-child button_marginEnd":"x1s9ur8s",":first-child button_marginBottom":"xaockbu",":first-child button_marginStart":"x1pj3a1u",":first-child button_borderTop":"xrf8m7p",":first-child button_borderEnd":"xfqltm0",":first-child button_borderBottom":"x15ewqia",":first-child button_borderStart":"xj8kvmd",":first-child button_outline":"x15kiiuk",":first-child button_color":"x8aj355",":first-child button:enabled:hover_cursor":"x13q2vvg",":first-child .react-calendar__navigation_display":"x15i2d7n",":first-child .react-calendar__navigation_height":"x7tggq",":first-child .react-calendar__navigation_marginBottom":"xea0sh4",":first-child .react-calendar__navigation_backgroundColor":"xrr3a99",":first-child .react-calendar__navigation_color":"x1m4d0k2",":first-child .react-calendar__navigation_borderTopStartRadius":"x17z3i5w",":first-child .react-calendar__navigation_borderTopEndRadius":"x1irigvy",":first-child .react-calendar__navigation_borderBottomEndRadius":"x1fzbl9f",":first-child .react-calendar__navigation_borderBottomStartRadius":"x7hnqd8",":first-child .react-calendar__navigation__label__labelText_color":"xly1xnn",":first-child .react-calendar__navigation__arrow_minWidth":"x71ozu2",":first-child .react-calendar__navigation__arrow_background":"x1upy338",":first-child .react-calendar__navigation__arrow_color":"x1gzymcx",":first-child .react-calendar__navigation__arrow_display":"xsnudpq",":first-child .react-calendar__navigation__arrow_alignItems":"xd7iu77",":first-child .react-calendar__navigation__arrow_justifyContent":"xp1nbbt",":first-child .react-calendar__navigation__arrow_fontSize":"xtgu96i",":first-child .react-calendar__navigation__arrow_fontWeight":"xl48d2a",":first-child .react-calendar__navigation__arrow:disabled_color":"xuhdlvq",":first-child .react-calendar__navigation__arrow:disabled_cursor":"x1m8pmxx",":first-child .react-calendar__navigation__arrow:enabled:hover_opacity":"x5b4mxb",":first-child .react-calendar__month-view__days__day--neighboringMonth_color":"x1pqbnpz",":first-child .react-calendar__year-view > .react-calendar__tile_paddingTop":"x1cyavp5",":first-child .react-calendar__year-view > .react-calendar__tile_paddingEnd":"x1i7pydq",":first-child .react-calendar__year-view > .react-calendar__tile_paddingBottom":"xauqw0m",":first-child .react-calendar__year-view > .react-calendar__tile_paddingStart":"x1j4z2hw",":first-child .react-calendar__decade-view  > .react-calendar__tile_paddingTop":"x2g8o02",":first-child .react-calendar__decade-view  > .react-calendar__tile_paddingEnd":"xu1owvq",":first-child .react-calendar__decade-view  > .react-calendar__tile_paddingBottom":"x1waxneg",":first-child .react-calendar__decade-view  > .react-calendar__tile_paddingStart":"xb2o73r",":first-child .react-calendar__century-view  > .react-calendar__tile_paddingTop":"x1s05kqo",":first-child .react-calendar__century-view  > .react-calendar__tile_paddingEnd":"x1t3vnpe",":first-child .react-calendar__century-view  > .react-calendar__tile_paddingBottom":"x1fb7ar5",":first-child .react-calendar__century-view  > .react-calendar__tile_paddingStart":"xjdlplp",":first-child .react-calendar__tile_maxWidth":"xcwe0hv",":first-child .react-calendar__tile_paddingTop":"x1jq7lph",":first-child .react-calendar__tile_paddingEnd":"x8xv2t8",":first-child .react-calendar__tile_paddingBottom":"x80yvro",":first-child .react-calendar__tile_paddingStart":"x1dzsusv",":first-child .react-calendar__tile_background":"x1u43kwp",":first-child .react-calendar__tile_textAlign":"x1ayfghy",":first-child .react-calendar__tile_lineHeight":"x615f3y",":first-child .react-calendar__navigation__prev2-button_visibility":"x4tpv1n",":first-child .react-calendar__navigation__next2-button_visibility":"x1xwpm45",$$css:!0},focusStyles:{":first-child button:focus_boxShadow":"x1hegz0a",$$css:!0}};function a(a){var d=a.maxDate,e=a.minDate;a=a.onDateSelected;var f=c("WAWebUseIsKeyboardUser")();f=f.isKeyboardUser;var g=b("react-calendar")["default"];return j.jsx("div",{className:(i||(i=c("stylex")))(k.calendarOverride,f&&k.focusStyles),children:j.jsx(g,{minDate:e,maxDate:d,onClickDay:a,minDetail:"month",locale:c("WAWebL10N").getFullLocale()})})}a.displayName=a.name+" [from "+f.id+"]";g.DatePicker=a}),98);
__d("WAWebDatePickerContainer.react",["WAWebDatePicker.react","WAWebKeyboardRotateFocusModal.react","WAWebUserPrefsHistorySync","react","useWAWebFocusOnMount"],(function(a,b,c,d,e,f,g){var h,i=h||c("react"),j={overrideRotateFocusStyles:{position:"x1rv4328",$$css:!0}};function a(a){a=a.onDateSelected;var b=d("WAWebUserPrefsHistorySync").getHistorySyncEarliestDate()*1e3,e=new Date();b=new Date(b);var f=c("useWAWebFocusOnMount")();return i.jsx(c("WAWebKeyboardRotateFocusModal.react"),{xstyle:j.overrideRotateFocusStyles,children:i.jsx("div",{ref:f,tabIndex:-1,className:"xkxnv7c xtlo18s xg7h5cd x1sr759z x1a2cdl4 xnhgr82 x1qt0ttw xgk8upj",children:i.jsx(d("WAWebDatePicker.react").DatePicker,{maxDate:e,minDate:b,onDateSelected:a})})})}a.displayName=a.name+" [from "+f.id+"]";g.DatePickerContainer=a}),98);
__d("WAWebSendLocationChatAction",["WALogger","WATimeUtils","WAWebAck","WAWebMsgKey","WAWebSendMsgChatAction","WAWebSendMsgResultAction","WAWebUserPrefsMeUser","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Location message send to chat failure: ",""]);h=function(){return a};return a}function a(a,b,c,d){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f){b=(yield j(a,b,e,f));try{e=(yield d("WAWebSendMsgChatAction").addAndSendMsgToChat(a,b)[1]);if(!e||e.messageSendResult!==d("WAWebSendMsgResultAction").SendMsgResult.OK)throw c("err")("Location message SendMsgResult failure status")}catch(a){d("WALogger").WARN(h(),a);throw a}});return i.apply(this,arguments)}function j(a,b,c,d){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f){var g=d("WAWebUserPrefsMeUser").getMaybeMeUser();g={type:"location",ack:d("WAWebAck").ACK.CLOCK,from:g,id:new(c("WAWebMsgKey"))({from:g,to:a.id,id:yield c("WAWebMsgKey").newId(),participant:void 0,selfDir:"out"}),local:!0,isNewMsg:!0,t:d("WATimeUtils").unixTime(),to:a.id,lat:b,lng:e,loc:f};return g});return k.apply(this,arguments)}g["default"]=a}),98);
__d("WAWebBizSmbTosModal.react",["fbt","WALogger","WAWebConfirmPopup.react","WAWebConnModel","WAWebModalManager","WAWebSmbLearnMore.react","WAWebSocketModel","react","useWAWebListener"],(function(a,b,c,d,e,f,g,h){var i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["SMB: terms of service modal, user clicked logout"]);j=function(){return a};return a}var k=i||c("react");function a(){var a=h._("__JHASH__M2VmD8xDR_v__JHASH__"),b=function(){d("WAWebConnModel").Conn.smbTos||d("WAWebModalManager").ModalManager.close()};d("useWAWebListener").useListener(d("WAWebConnModel").Conn,"change:smbTos",b);b=function(){d("WALogger").LOG(j()),d("WAWebModalManager").ModalManager.close(),d("WAWebSocketModel").Socket.logout()};var e=h._("__JHASH__3n1bF_cZdZK__JHASH__");b=b;return k.jsxs(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:b,okText:e,children:[a,"\xa0",k.jsx(c("WAWebSmbLearnMore.react"),{})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebQuickRepliesPluginLogEvents",["WAWebQuickReplyWamEvent","WAWebWamEnumQuickReplyAction","WAWebWamEnumQuickReplyEntryPoint","WAWebWamEnumQuickReplyType"],(function(a,b,c,d,e,f,g){function a(a,b){b===void 0&&(b=!1);a=new(d("WAWebQuickReplyWamEvent").QuickReplyWamEvent)({quickReplyAction:d("WAWebWamEnumQuickReplyAction").QUICK_REPLY_ACTION.ACTION_CHAT_IMPRESSION,quickReplyCount:a,quickReplyEntryPoint:b?d("WAWebWamEnumQuickReplyEntryPoint").QUICK_REPLY_ENTRY_POINT.QUICK_REPLY_ENTRY_POINT_ATTACHMENT_PANEL:d("WAWebWamEnumQuickReplyEntryPoint").QUICK_REPLY_ENTRY_POINT.QUICK_REPLY_ENTRY_POINT_KEYBOARD});a.commit()}function b(a){a===void 0&&(a=!1);a=new(d("WAWebQuickReplyWamEvent").QuickReplyWamEvent)({quickReplyAction:d("WAWebWamEnumQuickReplyAction").QUICK_REPLY_ACTION.ACTION_CHAT_CLICK,quickReplyKeywordMatched:!1,quickReplyEntryPoint:a?d("WAWebWamEnumQuickReplyEntryPoint").QUICK_REPLY_ENTRY_POINT.QUICK_REPLY_ENTRY_POINT_ATTACHMENT_PANEL:d("WAWebWamEnumQuickReplyEntryPoint").QUICK_REPLY_ENTRY_POINT.QUICK_REPLY_ENTRY_POINT_KEYBOARD});a.commit()}function c(a){a===void 0&&(a=!1);a=new(d("WAWebQuickReplyWamEvent").QuickReplyWamEvent)({quickReplyAction:d("WAWebWamEnumQuickReplyAction").QUICK_REPLY_ACTION.ACTION_CHAT_CLICK_CANCEL,quickReplyEntryPoint:a?d("WAWebWamEnumQuickReplyEntryPoint").QUICK_REPLY_ENTRY_POINT.QUICK_REPLY_ENTRY_POINT_ATTACHMENT_PANEL:d("WAWebWamEnumQuickReplyEntryPoint").QUICK_REPLY_ENTRY_POINT.QUICK_REPLY_ENTRY_POINT_KEYBOARD});a.commit()}function e(a){a===void 0&&(a=!1);a=new(d("WAWebQuickReplyWamEvent").QuickReplyWamEvent)({quickReplyAction:d("WAWebWamEnumQuickReplyAction").QUICK_REPLY_ACTION.ACTION_SMART_DEFAULT_CLICK,quickReplyKeywordMatched:!1,quickReplyEntryPoint:a?d("WAWebWamEnumQuickReplyEntryPoint").QUICK_REPLY_ENTRY_POINT.QUICK_REPLY_ENTRY_POINT_ATTACHMENT_PANEL:d("WAWebWamEnumQuickReplyEntryPoint").QUICK_REPLY_ENTRY_POINT.QUICK_REPLY_ENTRY_POINT_KEYBOARD});a.commit()}function f(a){a===void 0&&(a=!1);a=new(d("WAWebQuickReplyWamEvent").QuickReplyWamEvent)({quickReplyAction:d("WAWebWamEnumQuickReplyAction").QUICK_REPLY_ACTION.ACTION_SMART_DEFAULT_CLICK,quickReplyKeywordMatched:!1,quickReplyEntryPoint:a?d("WAWebWamEnumQuickReplyEntryPoint").QUICK_REPLY_ENTRY_POINT.QUICK_REPLY_ENTRY_POINT_ATTACHMENT_PANEL:d("WAWebWamEnumQuickReplyEntryPoint").QUICK_REPLY_ENTRY_POINT.QUICK_REPLY_ENTRY_POINT_KEYBOARD,quickReplyType:d("WAWebWamEnumQuickReplyType").QUICK_REPLY_TYPE.QUICK_REPLY_TYPE_PIX_KEY});a.commit()}g.logFilterEvent=a;g.logSelectEvent=b;g.logCancelEvent=c;g.logSmartDefaultSelectEvent=e;g.logPixSmartSelectEvent=f}),98);
__d("WAWebQuickRepliesPluginResult.react",["WAWebEmojiText.react","WAWebFormatConfiguration","WAWebStylesEnv","WAWebUISpacing","react","stylex","useWAWebModelValues"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k={result:{display:"x78zum5",height:"x1qx5ct2",overflowX:"x6ikm8r",overflowY:"x10wlt62",fontSize:"x1f6kntn",color:"x40yjcy",textOverflow:"xlyipyv",whiteSpace:"xuxw1ft",verticalAlign:"xxymvpz",$$css:!0},resultEmoji:{position:"x1n2onr6",top:"x1e0gzzx",$$css:!0},resultSelected:{backgroundColor:"x1ru9bj0",$$css:!0},slash:{color:"xiqmkuo",$$css:!0},shortcutPrefix:{fontWeight:"x117nqv4",color:"x1cgtc05",$$css:!0},shortcutSuffix:{color:"xy9n6vp",$$css:!0},message:{color:"x40yjcy",textAlign:"x1yc453h",$$css:!0}};function a(a){var b=d("useWAWebModelValues").useModelValues(a.quickReply,["shortcut","message"]),e=b.shortcut;b=b.message;var f=a.query,g=a.selected,h=a.onMouseDown,l=a.onMouseEnter;a=a.onMouseUp;e=e.slice(f.length);return j.jsxs("div",{className:(i||(i=c("stylex")))(k.result,d("WAWebUISpacing").uiPadding.vert16,d("WAWebUISpacing").uiPadding.horiz18,d("WAWebStylesEnv").hasEmoji&&k.resultEmoji,g&&k.resultSelected),onMouseDown:h,onMouseUp:a,onMouseEnter:l,children:[j.jsx("span",{className:i(k.slash,d("WAWebUISpacing").uiPadding.top3)}),j.jsx(d("WAWebEmojiText.react").EmojiText,{className:i(k.shortcutPrefix,d("WAWebUISpacing").uiPadding.top3),text:f}),j.jsx(d("WAWebEmojiText.react").EmojiText,{className:i(k.shortcutSuffix,d("WAWebUISpacing").uiPadding.top3),text:e}),j.jsx(d("WAWebEmojiText.react").EmojiText,{className:i(k.message,d("WAWebUISpacing").uiPadding.top3,d("WAWebUISpacing").uiMargin.start10),testid:void 0,ellipsify:!0,text:b,formatters:d("WAWebFormatConfiguration").QuickReply()})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebQuickReplySuggestions.react",["Lexical","WATypeUtils","WAWebBizSendOrderAction","WAWebBusinessProfileCollection","WAWebChatCollection","WAWebContactCollection","WAWebFrontendContactGetters","WAWebL10NCountryCodes","WAWebListSuggestionsPanel.react","WAWebQuickRepliesPluginLogEvents","WAWebQuickRepliesPluginResult.react","WAWebQuickReplyCollection","WAWebQuickReplyEnum","WAWebQuickReplyGetters","WAWebSendContactsAction","WAWebSendLocationChatAction","WAWebSendTextMsgChatAction","WAWebUserPrefsMeUser","react","useWAWebForceUpdate","useWAWebLexicalEvent","useWAWebListener","useWAWebQuery"],(function(a,b,c,d,e,f,g){var h,i;a=i||d("react");var j=h||(h=c("react"));b=a.forwardRef;var k=a.useEffect,l=a.useImperativeHandle,m=a.useMemo,n=a.useRef,o=52,p="/",q=25;e=b(function(a,b){var e=a.editor,f=a.kind,g=a.onSelect;a=a.onHide;var h=d("useWAWebQuery").useQuery(e,p,{boundary:!0,maxQueryLength:q}),i=h.query,s=h.clearQuery,t=h.replaceQuery,y=h.omitQuery,z=h.setQuery;h=c("useWAWebForceUpdate")();var A=n(!1),B=n(),C=n(!1);d("useWAWebListener").useListener(d("WAWebQuickReplyCollection").QuickReplyCollection,"add remove change:shortcut",h);k(function(){d("WAWebQuickReplyCollection").QuickReplyCollection.addSmartDefaultsIfNeeded()},[]);h=function(a,b){return j.jsx(c("WAWebQuickRepliesPluginResult.react"),{quickReply:a.quickReply,query:a.query,selected:b},a.quickReply.id.toString())};var D=function(a){a=a.quickReply;B.current=a.message;switch(d("WAWebQuickReplyGetters").getType(a)){case d("WAWebQuickReplyEnum").QuickReplyTypes.PROFILE_SMART_DEFAULT:s();w(a);break;case d("WAWebQuickReplyEnum").QuickReplyTypes.ADDRESS_SMART_DEFAULT:s();v(a);break;case d("WAWebQuickReplyEnum").QuickReplyTypes.HOURS_SMART_DEFAULT:s();u(a);break;case d("WAWebQuickReplyEnum").QuickReplyTypes.PIX_KEY_SMART_DEFAULT:s();x(a);break;default:t(a.message,{select:!0}),a.useOnce()}d("WAWebQuickReplyGetters").getType(a)===d("WAWebQuickReplyEnum").QuickReplyTypes.PIX_KEY_SMART_DEFAULT?d("WAWebQuickRepliesPluginLogEvents").logPixSmartSelectEvent(A.current):a.isSmartDefault()?d("WAWebQuickRepliesPluginLogEvents").logSmartDefaultSelectEvent(A.current):d("WAWebQuickRepliesPluginLogEvents").logSelectEvent(A.current);C.current=A.current;A.current=!1;g==null?void 0:g()},E=function(){y(),A.current=!1},F=m(function(){if(i==null)return null;var a=r(i,A.current);return a.length===0?null:a.map(function(a,b){return{height:o,itemKey:a.id,contentKey:i,index:b,quickReply:a,query:i,selectable:!0}})},[i]);d("useWAWebLexicalEvent").useLexicalKeydownEvent(e,"Backspace",function(){var a=B.current;if(!a)return;e.getEditorState().read(function(){var b=d("Lexical").$getSelection();if(!b)return;a===b.getTextContent()&&d("WAWebQuickRepliesPluginLogEvents").logCancelEvent(C.current)})},!0);l(b,function(){return{togglePanel:function(){i==null?(z(""),A.current=!0):(s(),A.current=!1)}}});return j.jsx(d("WAWebListSuggestionsPanel.react").ListSuggestionsPanel,{kind:f,editor:e,items:F,renderItem:h,onSelect:D,onDismiss:E,onHide:a})});function r(a,b){var c;a=d("WAWebQuickReplyCollection").QuickReplyCollection.filterShortcuts(a);((c=d("WAWebChatCollection").ChatCollection.getActive())==null?void 0:c.isGroup)&&(a=s(a));a=t(a,d("WAWebL10NCountryCodes").getCountryShortcodeByPhone((c=d("WAWebChatCollection").ChatCollection.getActive())==null?void 0:c.contact.id.user));a.length&&d("WAWebQuickRepliesPluginLogEvents").logFilterEvent(a.length,b);return a}function s(a){return a.filter(function(a){return!a.hideFromGroupChat()})}function t(a,b){return a.filter(function(a){return!a.hideForRecipientCountryCode(b)})}function u(a){var b=d("WAWebChatCollection").ChatCollection.getActive();if(!b)return;d("WAWebSendTextMsgChatAction").sendTextMsgToChat(b,a.message);a.useOnce()}function v(a){var b=d("WAWebChatCollection").ChatCollection.getActive(),e=d("WAWebUserPrefsMeUser").getMaybeMeUser(),f=d("WAWebBusinessProfileCollection").BusinessProfileCollection.get(e);e=d("WAWebContactCollection").ContactCollection.get(e);if(!b||!f)return;var g=f.latitude,h=f.longitude,i=f.address;if(d("WATypeUtils").isNumber(g)&&d("WATypeUtils").isNumber(h)&&e){e=d("WAWebFrontendContactGetters").getDisplayName(e);f.address&&(e+="\n"+f.address);c("WAWebSendLocationChatAction")(b,g,h,e);a.useOnce()}else i&&(d("WAWebSendTextMsgChatAction").sendTextMsgToChat(b,i),a.useOnce())}function w(a){var b=d("WAWebChatCollection").ChatCollection.getActive(),e=d("WAWebContactCollection").ContactCollection.get(d("WAWebUserPrefsMeUser").getMaybeMeUser());if(!b||!e)return;c("WAWebSendContactsAction")([e],b);a.useOnce()}function x(a){var b=d("WAWebChatCollection").ChatCollection.getActive();if(!b)return;void d("WAWebBizSendOrderAction").sendPixKeyPaymentInfoMessage(b);a.useOnce()}g.QuickReplySuggestions=e}),98);
__d("WAWebCongratulationsAnimation.react",["WAWebCongratulationsAnimationsUtils","WAWebLottieAnimationLoadable","react","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useImperativeHandle,l=b.useRef,m=b.useState,n={lottieComponent:{height:"x5yr21d",width:"xh8yej3",$$css:!0}};e=j.forwardRef(a);function a(a,b){var e=a.onAnimationComplete;a=m(!1);var f=a[0],g=a[1];a=m(null);var h=a[0],i=a[1];a=l(null);var o=c("useWAWebUnmountSignal")(),p=function(){e==null?void 0:e();if(o.aborted)return;g(!1)},q=function(a){if(o.aborted)return;a=d("WAWebCongratulationsAnimationsUtils").getCongratulationsAnimationPath(a.animation);i(a);g(!0)};k(b,function(){return{triggerAnimation:q}});b=null;f&&h!=null&&(b=j.jsx("div",{className:"x10l6tqk x1omtkq1 x47corl x5yr21d xh8yej3 x78zum5 xl56j7k",children:j.jsx("div",{className:"x5yr21d xktia5q",children:j.jsx(d("WAWebLottieAnimationLoadable").LottieAnimation,{ref:a,autoplay:!0,path:h,onComplete:p,xstyle:n.lottieComponent})})}));return b}a.displayName=a.name+" [from "+f.id+"]";b=e;g.CongratulationsAnimation=b}),98);
__d("WAWebMuteExpirations",["fbt","WAWeb-moment","WAWebClock"],(function(a,b,c,d,e,f,g,h){var i=[{getLabel:function(){return h._("__JHASH__YW0GMyGg5TG__JHASH__")},duration:8,radioId:"8-hours"},{getLabel:function(){return h._("__JHASH__qksr29UrgZq__JHASH__")},duration:7*24,radioId:"1-week"},{getLabel:function(){return h._("__JHASH__OCt3i8YXKoP__JHASH__")},duration:Number.POSITIVE_INFINITY,radioId:"always"}];function a(){return i[0].duration}function b(a){return a===Number.POSITIVE_INFINITY?d("WAWebClock").MUTE_ALWAYS_EXPIRATION_SENTINEL:a*60*60+c("WAWeb-moment")().unix()}g.ALL_MUTE_DURATIONS=i;g.getDefaultMuteDuration=a;g.calculateMuteExpiration=b}),226);
__d("WAWebMutePopup.react",["fbt","WAWebConfirmPopup.react","WAWebEmojiText.react","WAWebModalManager","WAWebMuteExpirations","WAWebRadio.react","WAWebUserPrefsGeneral","WAWebWDSText.react","react","useWAWebModelValues"],(function(a,b,c,d,e,f,g,h){var i,j;b=j||d("react");var k=i||(i=c("react")),l=b.useEffect,m=b.useState;function n(){d("WAWebModalManager").ModalManager.close()}function a(a){var b=a.onMute,c=a.children,e=d("useWAWebModelValues").useModelValues(a.mute,["id","expiration","callExpiration"]),f=m(null),g=f[0],i=f[1],j=function(a){i(a)},o=function(){return g!=null&&g!==0?g:d("WAWebUserPrefsGeneral").getLastChatMuteDuration()||d("WAWebMuteExpirations").getDefaultMuteDuration()};f=function(){d("WAWebModalManager").ModalManager.close();var c=o();d("WAWebUserPrefsGeneral").setLastChatMuteDuration(c);b(d("WAWebMuteExpirations").calculateMuteExpiration(c),c,a.entryPoint==null?0:a.entryPoint)};l(function(){e.expiration!=null&&e.expiration!==0&&e.callExpiration!=null&&e.callExpiration!==0&&n()},[e.callExpiration,e.expiration,a]);var p=a.onCancel||n,q=o();q=k.jsx(d("WAWebRadio.react").RadioGroup,{name:"ractionMuteDuration",theme:d("WAWebRadio.react").RadioWithLabelThemeEnum.LARGE,checkedValue:q,options:d("WAWebMuteExpirations").ALL_MUTE_DURATIONS.map(function(a){var b=a.getLabel,c=a.duration;a=a.radioId;return{value:c,label:b(),testid:a,onChange:function(){return j(c)}}})});return k.jsxs(d("WAWebConfirmPopup.react").ConfirmPopup,{title:k.jsx(d("WAWebEmojiText.react").EmojiText,{text:a.title}),okText:h._("__JHASH__AySi36Pq4Yv__JHASH__"),onOK:f,onCancel:p,testid:void 0,children:[c!=null&&k.jsx(d("WAWebWDSText.react").WDSTextMuted,{paddingBottom:12,children:c}),q]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebTosModal.react",["fbt","WAWebConfirmPopup.react","WAWebConnModel","WAWebModalManager","WAWebSocketModel","react","useWAWebListener"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function k(){d("WAWebConnModel").Conn.tos===0&&d("WAWebModalManager").ModalManager.close()}function l(){d("WAWebModalManager").ModalManager.close(),d("WAWebSocketModel").Socket.logout()}function a(){var a,b,c;d("useWAWebListener").useListener(d("WAWebConnModel").Conn,"change:tos",k);switch(d("WAWebConnModel").Conn.tos){default:case 1:a=h._("__JHASH__IzGnGAypMLF__JHASH__");b=h._("__JHASH__On50MyzV-mK__JHASH__");c=function(){return d("WAWebModalManager").ModalManager.close()};break;case 2:a=h._("__JHASH__zCMiXHvPR-N__JHASH__");b=h._("__JHASH__3n1bF_cZdZK__JHASH__");c=l;break}return j.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:c,okText:b,children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);